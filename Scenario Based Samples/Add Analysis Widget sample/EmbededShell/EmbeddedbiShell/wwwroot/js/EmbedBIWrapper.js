(()=>{"use strict";var e={123:(e,t)=>{var i,s,n,o;Object.defineProperty(t,"__esModule",{value:!0}),t.Theme=t.Environment=t.EmbedType=t.Mode=void 0,function(e){e.View="view",e.Design="design",e.Connection="connection",e.DataSource="datasource"}(i||(t.Mode=i={})),function(e){e.Component="component",e.IFrame="iframe"}(s||(t.EmbedType=s={})),function(e){e.Enterprise="onpremise",e.Cloud="cloud"}(n||(t.Environment=n={})),function(e){e.Off="off",e.Light="light",e.Dark="dark"}(o||(t.Theme=o={}))},176:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.successMessages=t.errorMessages=void 0,t.errorMessages={EmbedModeInvalid:"Invalid embedded mode.",EmptyWidgetID:"Widget id and name cannot not be empty.",EmptyWidgetName:"Widget name cannot not be empty.",InvalidAllWidgetNames:"All the widget names are invalid.",UnableWidgetRender:"Unable to render the widget in design mode.",PinboardNameEmpty:"The pinboard name cannot be empty.",EmptyWidgetList:"Please provide the widget details with the containerID in an array.",ArrayWidgetNames:"Unable to refresh the widget. The widgetName should be in an array.",WidgetNameSpecialChar:"Please avoid using special characters in widget name.",InvalidDbrdAndWidget:"Please provide a valid dashboard ID and widget ID.",InvalidWidgetName:"Please provide a valid widget name.",InvalidDashboardID:"Please provide a valid dashboard ID.",InvalidChildDbrdID:"Please provide a valid child dashboard ID.",InvalidViewName:"Please provide a valid view name.",InvalidQueryString:"Please provide a valid query string.",EmptyViewDetails:"View details must not be empty.",InvalidViewID:"Please provide a valid view ID.",InvalidEmbedType:"Invalid EmbedType.",UnablePinboardRender:"Unable to render the pinboard in design mode.",InitFetch:"Data fetching has been initiated.",InvalidBoldBIURL:"Invalid Bold BI serverUrl.",EnvironmentMemberError:"Server not found. If you are using Cloud BI Server, please ensure that the Environment member is set on the client side.",ServerNotFound:"server Not Found.",InvalidDbrdDetails:"The provided dashboard details are invalid.",InvalidPinboardName:"Please provide a valid pinboard name.",AccessDeniedItem:"Access denied for the item.",NotRenderMultitabDashboard:"A multitab dashboard cannot be rendered in designer mode.",ErrorInBoldBIDesigner:"BoldBIDashboardDesigner is not defined.",DbrdDownloadError:"There was an error while downloading the dashboards.",bbEmbedNotDefined:"bbEmbed is not defined.",LayoutFailure:"The change in layout failed due to ",DragAndDropError:"Drag and drop failure due to ",DbrdPathTokenAPIError:"The token API does not support rendering a dashboard with the specified dashboardPath.",DataSourceTokenAPIError:"The Token API does not support rendering the dashboard with the datasourceName.",ViewNameTokenAPIError:"The Token API does not support rendering a dashboard with the viewName.",InvalidAccessToken:"Please provide a valid access token.",InvalidApiKey:"Please provide a valid API Key.",ViewDetailsNotFound:"View details not found.",WidgetNameTokenAPIError:"The Token API does not support rendering widgets with the widgetName.",EnsureServerOrSDKVersion:"Unable to ensure the server version and SDK version for cloud environment.",ErrorLoadMultipleWidget:"Error: To render multiple widgets, please use the loadMultipleWidget() method.",EmptyDbrdCreate:"Please provide the DashboardId in BoldBI.Create().",ExistedViewName:"The view name already exists.",InvalidReplyCommentID:"Please provide a valid ID for the reply comment.",InvalidCommentText:"Please provide a comment that is valid.",InvalidDbrdOrWidgetID:"Please provide a valid dashboard or widget ID.",InvalidCommentID:"Please provide a valid comment ID.",NetworkIssue:"Not connected. Please check the network.",NotFound:"Not Found.",ViewIDNotFound:"The view id was not found. Please provide a valid view id.",PageNotFound:"The requested page could not be found (404).",InternalServerError:"Internal Server Error (500).",UncaughtError:"An uncaught error has occurred.",AuthorizationServerMissing:"Access has been denied because the authorization server URL is missing in the BoldBI.Create() method.",InvalidEmbedContainerID:"Please provide the valid embed container Id.",EmptyServerURL:"The server URL cannot be empty.",InvalidServerURL:"Please provide a valid server URL.",InvalidDashboardPath:"Invalid dashboard path: ",EmptyDbrdOrViewID:"Dashboard ID, path, and view ID cannot be empty.",EmptyDatasourceDetails:"Data source ID and name cannot be empty.",MultitabDbrdWidgetRender:"Unable to render the widget from multitab dashboard.",UnableAddWidget:"Unable to add the widget due to ",PageUnavailable:"The page you are looking for was unavailable.",ObjectRefNotSet:"Object reference not set to an instance of an object.",AvoidSplChar:"Please avoid using special characters.",EmptyViewName:"Please enter the name of the view.",NotMatchVersion:"The Embedded SDK version does not match the Bold BI Server version.",CantReadNull:"Cannot read property append of null",NotImplementedMethod:"The LoadDashboardView method has not been implemented.",InvalidThemeName:"Please provide a valid dashboard theme name",BoldBIEmbedded:"BoldBI Embedded: ",ProvideCreatePermission:"Please provide permission to create the dashboard.",AnonymousEmailandGroup:"Please provide a user email and group name to access the group for an anonymous user",AnonymousEmail:"Please provide an anonymous user email.",AnonymousGroup:"Please provide a group name to access the group for an anonymous user.",DomainMaskingError:"Please remove the authorization URL or token API when when domain masking is enabled."},t.successMessages={UpdateFilterViewMsg:"and you can add custom functionalities using viewId:",NonDefaultViewInfoMsg:"If enabled, the current view will be set as your default view for this dashboard.",DefaultViewInfoMsg:"Based on your dashboard settings in Bold BI, these filters will be applied by default the next time the dashboard is rendered.",MatchVersion:"The embedded SDK version matches the Bold BI Server version."}},806:(e,t,i)=>{t.tN=void 0;const s=i(176),n=i(123),o=i(917);let a,d;class r{constructor(e){this.loadPinboard=this.Invoke((function(){if(!this.invalidDetail){if(""==this.embedOptions.pinboardName)throw new Error(s.errorMessages.PinboardNameEmpty);if(this.embedOptions.mode!=r.Mode.View)throw new Error(s.errorMessages.UnablePinboardRender);if(this.embedOptions.dashboardIds=[],this.embedOptions.dashboardPaths=[],!this._checkWidgetList())if(this.embedOptions.embedType==r.EmbedType.Component)this._setEmbedDefaults(),this.isPinboardRendering=!0,this._showLoader(),this._isDependencyLoaded(this);else if(this.embedOptions.embedType==r.EmbedType.IFrame){const e=document.createElement("iframe");e.frameBorder=0,e.width=this.embedOptions.width,e.height=this.embedOptions.height,e.id=this.embedOptions.embedContainerId+"_"+this.embedOptions.dashboardId,e.allowfullscreen=this.embedOptions.dashboardSettings.showFullScreen,e.setAttribute("src",this.embedOptions.serverUrl+"/dashboards/"+this.embedOptions.dashboardId+"?isembed=true"),document.getElementById(this.embedOptions.embedContainerId).appendChild(e)}}})),this.loadDatasource=this.Invoke((function(){if(!this.invalidDetail&&((this.embedOptions.dashboardId||this.embedOptions.dashboardPath)&&(this.embedOptions.dashboardId=this.embedOptions.dashboardPath=""),""!=this.embedOptions.pinboardName&&(this.embedOptions.pinboardName=""),!this._checkWidgetList())){if(this.embedOptions.mode!=r.Mode.DataSource&&this.embedOptions.mode!=r.Mode.Connection)throw new Error(s.errorMessages.EmbedModeInvalid);if(this.embedOptions.embedType==r.EmbedType.Component)this.isWidgetMode=!1,this.widgetName="",this.isDashboardViewMode=!1,this.dashboardViewName="",this._showLoader(),this._isDependencyLoaded(this);else if(this.embedOptions.embedType==r.EmbedType.IFrame){const e=document.createElement("iframe");e.frameBorder=0,e.width=this.embedOptions.width,e.height=this.embedOptions.height,e.id=this.embedOptions.embedContainerId+"_"+this.embedOptions.datasourceId,e.allowfullscreen=this.embedOptions.dashboardSettings.showFullScreen,e.setAttribute("src",this.embedOptions.serverUrl+"/datasource-designer/"+this.embedOptions.datasourceId+"?isembed=true"),document.getElementById(this.embedOptions.embedContainerId).appendChild(e)}}})),this._initializeUrls=this.Invoke((function(){if(this.embedOptions.enableDomainMasking){if(""===this.embedOptions.authorizationServer.url&&""===this.embedOptions.token)return this.designerRootUrl=this.embedOptions.serverUrl,!0;throw new Error(s.errorMessages.DomainMaskingError)}if(this.embedOptions.serverUrl.indexOf("/bi")<=0)throw new Error(s.errorMessages.InvalidBoldBIURL);return this.embedOptions.environment==r.Environment.Enterprise?(this.rootUrl=this.embedOptions.serverUrl.substr(0,this.embedOptions.serverUrl.indexOf("/bi/")>=0?this.embedOptions.serverUrl.indexOf("/bi/")+3:this.embedOptions.serverUrl.indexOf("/bi")+3),this.baseUrl=this.embedOptions.serverUrl,this.siteIdentifier=this.embedOptions.serverUrl.indexOf("/site/")>=0?this.embedOptions.serverUrl.substr(this.embedOptions.serverUrl.indexOf("/site/")+1):"",this.dashboardServerApiUrl=this.rootUrl+"/api"+(this._isEmptyOrSpaces(this.siteIdentifier)?"":"/"+this.siteIdentifier),this.designerRootUrl=this.rootUrl+"/designer",this.customThemeUrl=this.rootUrl.replace(/\/bi(?!.*\/bi)/,"/ums/theme/styles")):(this.rootUrl=this.embedOptions.serverUrl.endsWith("/")?this.embedOptions.serverUrl.slice(0,-1):this.embedOptions.serverUrl,this.baseUrl=this.embedOptions.serverUrl,this.siteIdentifier="",this.dashboardServerApiUrl=this.rootUrl+"/api"),this.scheduleEndpointUrl=this.baseUrl+"/datasources/recurrence-type-page",!0})),this._addJquerydependentFiles=this.Invoke((function(){if(this._checkDepedentFileExists(this.jQueryDepedentFile,!1)||null!=window.jQuery&&"1.10.2"==window.jQuery().jquery){const e=setInterval((()=>{window.jQuery&&(clearInterval(e),a=window.bbEmbed=window.$,void 0!==window.bb$&&(a=window.bbEmbed=window.bb$),this._addWrapperDependentFiles(this,this.wrapperDependentScriptFiles),this._loadDepedentFiles())}),1e3)}else{const t=document.createElement("script");if(this.embedOptions.environment==r.Environment.Enterprise){var e=this.embedOptions.enableDomainMasking?this.maskedCdnUrl+this.embedSDKWrapperVersion+"/script/"+this.jQueryDepedentFile:this.rootUrl+"/cdn/scripts/designer/"+this.jQueryDepedentFile;t.setAttribute("src",e)}else t.setAttribute("src",this.cdnLink+"/scripts/designer/"+this.jQueryDepedentFile);this.embedOptions.nonce&&(t.nonce=this.embedOptions.nonce),document.head.appendChild(t),t.onload=()=>{try{const e=document.createElement("script");e.append(this.jqConflictFile),this.embedOptions.nonce&&(e.nonce=this.embedOptions.nonce),document.head.appendChild(e),a=window.bbEmbed=window.bb$,this._addWrapperDependentFiles(this,this.wrapperDependentScriptFiles),this._loadDepedentFiles()}catch(e){this._throwError(s.errorMessages.ServerNotFound),this.invalidDetail=!0}},t.onerror=e=>this._handleEnvironmentError(e)}})),this._renderDashboard=this.Invoke((function(e){const t=this,i=e.Data;if(!e.Status&&!this.embedOptions.enableDomainMasking)throw e.errorMessage==s.errorMessages.PageUnavailable&&(e.Status=!1,e.Message=e.errorMessage),e.Message===s.errorMessages.ObjectRefNotSet&&("view"!==this.embedOptions.mode&&"design"!==this.embedOptions.mode||(this._isEmptyOrSpaces(this.embedOptions.dashboardId)&&this._isEmptyOrSpaces(this.embedOptions.dashboardPath)||(e.Message=s.errorMessages.InvalidDbrdDetails),this._isEmptyOrSpaces(this.embedOptions.pinboardName)||(e.Message=s.errorMessages.InvalidPinboardName))),new Error(e.Message);{if(Array.isArray(e.Data)&&this._isEmptyOrSpaces(this.embedOptions.dashboardId)&&this._isEmptyOrSpaces(this.embedOptions.dashboardPath)){for(const t of e.Data)if("ErrorMessage"in t){const i=`BoldBI Embedded: ${t.ErrorMessage}`;if(this._isNullOrUndefined(this.embedOptions.onError)||""===this.embedOptions.onError)console.error(i);else{const e=new Error(i);this.onErrorClient(e)}e.Data=e.Data.filter((e=>e!==t))}if(i.filter((e=>"ErrorMessage"in e&&e.ErrorMessage.includes("Access denied for the item"))).length===i.length)throw new Error(s.errorMessages.AccessDeniedItem);if(!e.Data.length)throw new Error(s.errorMessages.InvalidDbrdDetails)}const d=e.Data;if(""!=this.embedOptions.pinboardName&&0==this.pinboardIds.length){if(!d.ColumnInfo)throw new Error(s.errorMessages.InvalidPinboardName);this._renderPinboard(d)}else if(!this._isNullOrUndefined(d)&&d.length){if(this.isWidgetMode){const e=document.getElementById(this.embedOptions.embedContainerId);throw r._hasinstance(e,"embeddedBoldBI")&&r._removeinstance(e,"embeddedBoldBI"),new Error(s.errorMessages.MultitabDbrdWidgetRender)}if(this.embedOptions.mode!=r.Mode.View){const e=document.getElementById(this.embedOptions.embedContainerId);throw r._hasinstance(e,"embeddedBoldBI")&&r._removeinstance(e,"embeddedBoldBI"),new Error(s.errorMessages.NotRenderMultitabDashboard)}this._renderMultiTabDashboard(d)}else{let i;this.embedOptions.enableDomainMasking||(d.ItemDetail=this.embedOptions.mode!=r.Mode.Connection?this.embedOptions.token?e.Data.ItemDetail:JSON.parse(e.Data.ItemDetail):null),this.embedOptions.token||this.embedOptions.enableDomainMasking||this.embedOptions.isPublicDashboard||((this.embedOptions.mode==r.Mode.View||d.ItemDetail&&d.ItemDetail.IsEnableDefaultView)&&(this.isDefaultView=d.ItemDetail.IsEnableDefaultView,this.embedOptions.dashboardSettings=this.embedOptions.dashboardSettings||{},this.embedOptions.dashboardSettings.filterOverviewSettings=this.embedOptions.dashboardSettings.filterOverviewSettings||{},d.ItemDetail.ItemViews&&(this.embedOptions.dashboardSettings.filterOverviewSettings.viewId=d.ItemDetail.ItemViews[0].ViewId,this.embedOptions.dashboardSettings.filterOverviewSettings.viewName=d.ItemDetail.ItemViews[0].ViewName,this.embedOptions.filterParameters=d.ItemDetail.ItemViews[0].QueryString)),this.embedOptions.mode==r.Mode.View&&(this.dashboardUrl="/dashboard/"+d.ItemDetail.Id+"/"+d.ItemDetail.CategoryName+"/"+d.ItemDetail.Name+"?"),this.embedOptions.mode==r.Mode.View&&this.embedOptions.viewId&&(this.embedOptions.dashboardId=d.ItemDetail.Id)),this.accessToken=t.embedOptions.enableDomainMasking?null:t.embedOptions.token?t.embedOptions.token:d.access_token;let l,h="";if(this.pinboardIds.length>0){const e=this.embedOptions.token?d.Id:d.WidgetId;a.map(this.pinboardIds,(function(s){if(s.widgetId==e){const e=t._getDashboardInstance(s.pinboardContainerId+"_embeddedbi");t._isNullOrUndefined(e)&&(i=s.pinboardContainerId)}})),l=t.embedOptions.token?d.ItemId:""}else if(this.isMultiTab){const e=this.embedOptions.token?d.DashboardId.toString().replaceAll("-",""):d.ItemDetail.Id.toString().replaceAll("-","");i="multi_"+e,t._isNullOrUndefined(t.embedOptions.dashboardSettings.dashboardName)||"string"==typeof t.embedOptions.dashboardSettings.dashboardName||a.map(t.embedOptions.dashboardSettings.dashboardName,(function(e){d.ItemDetail.Id==e.dashboardId&&(h=e.dashboardName)})),l=t.embedOptions.token?d.DashboardId:""}else i=this.embedOptions.embedContainerId,t._isNullOrUndefined(t.embedOptions.dashboardSettings.dashboardName)||"string"!=typeof t.embedOptions.dashboardSettings.dashboardName||(h=t.embedOptions.dashboardSettings.dashboardName);const m=this.pinboardIds.length>0?a("#"+i).height():this.isMultiTab?this.embedOptions.height.indexOf("%")>0?this.embedOptions.height.includes("calc")?"calc(100% - 36px)":"calc("+this.embedOptions.height+" - 36px)":parseInt(this.embedOptions.height,10)-36+"px":this.embedOptions.height;let b;this.embedOptions.enableDomainMasking||this.embedOptions.isPublicDashboard||void 0===e.Data.UserDetail||(d.UserDetail=JSON.parse(e.Data.UserDetail)),this.embedOptions.mode==r.Mode.Connection&&a('<style type="text/css"> .e-dashboarddesigner .bbi-dbrd-connection-mode-dlg .bbi-dbrd-connection-mode-header .bbi-dbrd-icon-container .bbi-dbrd-close-icon{ display: none !important} </style>').appendTo("head"),this._onBoldBIAuthorizionComplete(d),""==this.embedOptions.widgetList&&(document.getElementById(i).style.height=m,document.getElementById(i).style.width=""!=this.embedOptions.pinboardName?document.getElementById(i).style.width:this.isMultiTab?"100%":this.embedOptions.width),this.embedOptions.mode!=r.Mode.View||this.embedOptions.authorizationServer.url||this.embedOptions.authorizationServer.data||this._isNullOrUndefined(this.embedOptions.dashboardSettings.filterOverviewSettings)||(this.embedOptions.dashboardSettings.filterOverviewSettings.showSaveIcon=!1,this.embedOptions.dashboardSettings.filterOverviewSettings.showSaveAsIcon=!1),this.embedOptions.mode!=r.Mode.Design||this._isNullOrUndefined(this.embedOptions.dashboardSettings.filterOverviewSettings)||(this.embedOptions.dashboardSettings.filterOverviewSettings.showSaveIcon=!1,this.embedOptions.dashboardSettings.filterOverviewSettings.showSaveAsIcon=!1,this.embedOptions.dashboardSettings.filterOverviewSettings.showViewSavedFilterIcon=!1);const c=this.embedOptions.environment===r.Environment.Enterprise?this.rootUrl.replace(/\/bi(?!.*\/bi)/,"/ums/user-interface/fonts")+"?family="+this.embedOptions.dashboardSettings.fontFamily:this.rootUrl+"/user-interface/fonts?family="+this.embedOptions.dashboardSettings.fontFamily;if(b={siteUrl:this.baseUrl,serviceUrl:this.designerRootUrl,dataServiceUrl:this.designerRootUrl,serverUrl:this.dashboardServerApiUrl,hasAPIKey:!t.embedOptions.enableDomainMasking&&!this.embedOptions.isPublicDashboard&&!this._isJwtFormat(this.accessToken),viewerSettings:{serviceUrl:this.designerRootUrl+"/v1.0/design"},nonce:this.embedOptions.nonce,localeSettings:{culture:this.embedOptions.localeSettings.culture,dateFormat:this._isEmptyOrSpaces(this.embedOptions.localeSettings.dateFormat)?"M/d/yyyy":this.embedOptions.localeSettings.dateFormat,timeFormat:this._isEmptyOrSpaces(this.embedOptions.localeSettings.timeFormat)?"h:mm:ss tt":this.embedOptions.localeSettings.timeFormat},mode:this.embedOptions.mode,localData:{loadFromData:this.embedOptions.localData.loadFromData,layoutData:this.embedOptions.localData.layoutData,widgetData:this.embedOptions.localData.widgetData},environment:this.embedOptions.environment,IsEmbed:!0,_isPublic:this.embedOptions.mode!=r.Mode.Connection?this.embedOptions.enableDomainMasking||this._isNullOrUndefined(d.ItemDetail)?"":d.ItemDetail.IsPublic:"",itemId:this.embedOptions.mode!=r.Mode.Connection?this.embedOptions.enableDomainMasking?this.embedOptions.dashboardId:this._isNullOrUndefined(this.embedOptions.token)||this._isEmptyOrSpaces(this.embedOptions.token)?d.ItemDetail.Id:l||this.embedOptions.dashboardId:"",dashboardPath:this.embedOptions.mode==r.Mode.DataSource||this.embedOptions.mode==r.Mode.Connection?"":this.embedOptions.enableDomainMasking?this.embedOptions.dashboardId+"/0":this._isNullOrUndefined(this.embedOptions.token)||this._isEmptyOrSpaces(this.embedOptions.token)?d.ItemDetail.ItemLocation:l?l+"/0":this.embedOptions.dashboardId+"/"+d.dashboardVersion,serviceAuthorizationToken:this._isNullOrUndefined(this.embedOptions.token)||this._isEmptyOrSpaces(this.embedOptions.token)?this.embedOptions.enableDomainMasking?"":d.access_token:this.embedOptions.token,dashboardName:this.embedOptions.mode==r.Mode.DataSource||this.embedOptions.mode==r.Mode.Connection||this.embedOptions.enableDomainMasking||this._isNullOrUndefined(d.ItemDetail)?"":this._isEmptyOrSpaces(h)?d.ItemDetail.Name:h,dashboardDescription:this.embedOptions.mode==r.Mode.DataSource||this.embedOptions.mode==r.Mode.Connection||this.embedOptions.enableDomainMasking||this._isNullOrUndefined(d.ItemDetail)?"":d.ItemDetail.Description,IsProxy:!!this.embedOptions.enableDomainMasking,theme:this._isEmptyOrSpaces(this.multiTabTheme)?this.embedOptions.theme:this.multiTabTheme,enableTheme:void 0!==this.embedOptions.dashboardSettings.enableTheme&&this.embedOptions.dashboardSettings.enableTheme,enableFilterOverview:this.embedOptions.dashboardSettings.enableFilterOverview,isPinWidget:this.pinboardIds.length>0,layoutSetting:this.embedOptions.layoutSettings,export:{Image:this.embedOptions.exportSettings.showImage,Excel:this.embedOptions.exportSettings.showExcel,Pdf:this.embedOptions.exportSettings.showPDF,CustomFontFamilyUrl:this.embedOptions.dashboardSettings.fontFamily?c:"",IsDefaultFont:!1},dashboardExportMenuSettings:{showCSV:this.embedOptions.exportSettings.showCSV,showExcel:this.embedOptions.exportSettings.showExcel,showImage:this.embedOptions.exportSettings.showImage,showPDF:this.embedOptions.exportSettings.showPDF},widgetExportMenuSettings:{showCSV:this.embedOptions.exportSettings.showCSV,showExcel:this.embedOptions.exportSettings.showExcel,showImage:this.embedOptions.exportSettings.showImage,showPDF:this.embedOptions.exportSettings.showPDF},filterParameters:(this._isEmptyOrSpaces(this.embedOptions.filterParameters)?"":"&")+(this.isMultiTab&&window.multiTabFilterParameter?window.multiTabFilterParameter:this.embedOptions.filterParameters),designCanvasSettings:this.embedOptions.designCanvasSettings,widgetContainerSettings:this.embedOptions.widgetContainerSettings,viewDataSettings:{checkShowAllColumns:!this._isNullOrUndefined(this.embedOptions.dashboardSettings.viewDataSettings)&&this.embedOptions.dashboardSettings.viewDataSettings.showAllColumns},viewDataActions:{allowExporting:!!this._isNullOrUndefined(this.embedOptions.dashboardSettings.viewDataSettings)||this.embedOptions.dashboardSettings.viewDataSettings.enableExporting,allowColumnSelection:!!this._isNullOrUndefined(this.embedOptions.dashboardSettings.viewDataSettings)||this.embedOptions.dashboardSettings.viewDataSettings.enableColumnSelection},dashboardThemeSettings:{appearance:this._isNullOrUndefined(this.embedOptions.dashboardSettings.themeSettings)||this._isNullOrUndefined(this.embedOptions.dashboardSettings.themeSettings.appearance)?"light":this.embedOptions.dashboardSettings.themeSettings.appearance,applicationTheme:this._isNullOrUndefined(this.embedOptions.dashboardSettings.themeSettings)||this._isNullOrUndefined(this.embedOptions.dashboardSettings.themeSettings.application)?null:this.embedOptions.dashboardSettings.themeSettings.application,dashboardTheme:this._isNullOrUndefined(this.embedOptions.dashboardSettings.themeSettings)?null:this._isNullOrUndefined(this.embedOptions.dashboardSettings.themeSettings.dashboard)?this.embedOptions.dashboardSettings.themeSettings.isLocalTheme?"boldBITheme":null:this.embedOptions.dashboardSettings.themeSettings.dashboard},filterOverviewSettings:{showSaveIcon:!this._isNullOrUndefined(this.embedOptions.dashboardSettings.filterOverviewSettings)&&this.embedOptions.dashboardSettings.filterOverviewSettings.showSaveIcon,showSaveAsIcon:!this._isNullOrUndefined(this.embedOptions.dashboardSettings.filterOverviewSettings)&&this.embedOptions.dashboardSettings.filterOverviewSettings.showSaveAsIcon,showViewSavedFilterIcon:!this._isNullOrUndefined(this.embedOptions.dashboardSettings.filterOverviewSettings)&&this.embedOptions.dashboardSettings.filterOverviewSettings.showViewSavedFilterIcon,viewId:this._isNullOrUndefined(this.embedOptions.dashboardSettings.filterOverviewSettings)||this._isEmptyOrSpaces(this.embedOptions.dashboardSettings.filterOverviewSettings.viewId)?null:this.embedOptions.dashboardSettings.filterOverviewSettings.viewId,viewName:this._isNullOrUndefined(this.embedOptions.dashboardSettings.filterOverviewSettings)||this._isEmptyOrSpaces(this.embedOptions.dashboardSettings.filterOverviewSettings.viewName)?null:this.embedOptions.dashboardSettings.filterOverviewSettings.viewName},hideMetrics:!this._isNullOrUndefined(this.embedOptions.dashboardSettings.showMetrics)&&!this.embedOptions.dashboardSettings.showMetrics,widgets:this._getWidgetFilterInfo(),actionComplete:function(e){t._onBoldBIDashboardInstaceActionComplete(e)},beforeBannerIconRender:function(e){t._onBoldBIDashboardBeforeBannerIconRender(e)},beforeOtherOptionContextMenuRender:function(e){t._onBoldBIDashboardBeforeOtherOptionContextMenuRender(e)},_onSaveFilter:function(e){t._onBoldBIDashboardSaveFilter(e)},_onSaveAsFilter:function(e){t._onBoldBIDashboardSaveAsFilter(e)},_onViewSavedFilters:function(e){t._onBoldBIDashboardOpenViewSection(e)},onBannerIconClick:function(e){t._onBoldBIDashboardBannerIconClick(e)},beforeWidgetIconRendered:function(e){t._onBoldBIDashboardBeforeWidgetIconRendered(e)},onWidgetIconClick:function(e){t._onBoldBIDashboardWidgetIconClick(e)},_onFavoriteStateChange:function(e){t._onBoldBIDashboardUpdatefavorite(e)},beforeNavigateUrlLinking:function(e){t._onBoldBIBeforeNavigateUrlLinking(e)},beforeControlMenuOpen:function(e){t._onBoldBIBeforeControlMenuOpen(e)},beforeDashboardMobileMenuOpen:function(e){t._onBoldBIBeforeDashboardMobileMenuOpen(e)},ajaxBeforeLoad:function(e){t._onBoldBIAjaxBeforeLoad(e)},beforeDesignerToolbarButtonsRendered:function(e){t._onBoldBIbeforeDesignerToolbarButtonsRendered(e)},onControlMenuClick:function(e){t._onBoldBIonControlMenuClick(e)},beforeDatasourceToolbarButtonsRendered:function(e){t._onBoldBIbeforeDatasourceToolbarButtonsRendered(e)},beforeDatasourceToolbarIconsRendered:function(e){t._onBoldBIbeforeDatasourceToolbarIconsRendered(e)},beforeDesignerToolbarIconsRendered:function(e){t._onBoldBIbeforeDesignerToolbarIconsRendered(e)},toolbarClick:function(e){t._onBoldBItoolbarClick(e)},beforeWidgetItemsListed:function(e){t._onBoldBIbeforeWidgetItemsListed(e)},beforeWidgetLayoutRender:function(e){t._onBoldBIbeforeWidgetLayoutRender(e)}},this.loadMultipleWidget){var n=this.embedOptions.widgetList;n.forEach((e=>{const t=document.createElement("div");t.id=`${e.containerId}_embeddedbi`,t.style.width="100%",t.style.height="100%",document.getElementById(e.containerId).append(t)}));const t=Object.values(JSON.parse(e.Data.WidgetList));var o=n.map(((e,i)=>({widgetId:t[i],container:`${e.containerId}_embeddedbi`})));b.loadMultipleWidget=this.loadMultipleWidget,b.multipleWidgetsCollection=o}if(""==this.embedOptions.widgetList&&(b.actionBegin=function(e){t._onBoldBIDashboardInstaceActionBegin(e,i)}),(this.embedOptions.mode!=r.Mode.View||this.isWidgetMode||this.isMultipleWidgetMode||this.isPinboardRendering)&&this.embedOptions.mode!=r.Mode.Design||(b.languageSettings={hideLanguageDropdown:!this._isNullOrUndefined(this.embedOptions.languageSettings.hideLanguageDropdown)&&this.embedOptions.languageSettings.hideLanguageDropdown,languageCode:this.embedOptions.languageSettings.languageCode}),this.embedOptions.enableDomainMasking||(this.embedOptions.mode==r.Mode.View&&!this.isPinboardRendering||this.embedOptions.mode==r.Mode.Design)&&(b.enableMobileView=!this._isNullOrUndefined(this.embedOptions.restrictMobileView)&&this.embedOptions.restrictMobileView,!this.embedOptions.isPublicDashboard&&d.IsAnonymousUser&&(b.anonymousUserEmail=d.email)),this.embedOptions.mode==r.Mode.Design){b.customBrandSettings={hideHelpLink:!this._isNullOrUndefined(this.embedOptions.customBrandSettings.hideHelpLink)&&this.embedOptions.customBrandSettings.hideHelpLink,customBrandName:this.embedOptions.customBrandSettings.customBrandName,customDomain:this.embedOptions.customBrandSettings.customDomain},(this.embedOptions.token&&!this.embedOptions.dashboardId||!this.embedOptions.token&&!this.embedOptions.enableDomainMasking&&!this._isNullOrUndefined(d)&&d.ItemDetail.IsDraft)&&(b.dashboardPath="");const e=this._isNullOrUndefined(d)||this.embedOptions.enableDomainMasking||this._isEmptyOrSpaces(d.DatasourceId)?"":d.DatasourceId;this._isEmptyOrSpaces(e)||(b.datasource=e),this.embedOptions.datasources.length>0&&(b.datasources=this.embedOptions.datasources),b.disableAutoRecover=this.embedOptions.disableAutoRecover,b.schedule={endPoint:this.scheduleEndpointUrl,summaryText:""},b.serverSettings={isAdmin:!this.embedOptions.enableDomainMasking&&void 0!==d.IsAdmin&&d.IsAdmin},b.intermediateDbStatus=this.embedOptions.enableDomainMasking?void 0:d.IntermediateDbStatus,b.connectionList=this.embedOptions.enableDomainMasking?void 0:d.ConnectionList,b.isAllowUserToCreateDatasource=this.embedOptions.enableDomainMasking?void 0:d.CanCreateDatasource,b.enablePublicDashboardSetting=!1,b.beforeNavigateToDashboard=function(e){t._onBoldBIBeforeNavigateToDashboard(e)},b.toolbarSettings={showToolbar:this.embedOptions.toolbarSettings.showToolbar},b.predefinedWidgets=this.embedOptions.preConfiguredWidgets,this.embedOptions.environment==r.Environment.Enterprise?b.configuration=this.embedOptions.enableDomainMasking?" ":this.rootUrl+"/webdesignerservice/scripts/settings/"+d.Branding+"/settings.min.js":b.configuration=this.cdnLink+"/scripts/settings/"+d.Branding+"/settings.min.js",b.designerSettings={widgetsPanel:{hideExistingWidgets:!this._isNullOrUndefined(this.embedOptions.dashboardSettings.widgetsPanel)&&this.embedOptions.dashboardSettings.widgetsPanel.hideExistingWidgets,hideDefaultWidgets:!this._isNullOrUndefined(this.embedOptions.dashboardSettings.widgetsPanel)&&this.embedOptions.dashboardSettings.widgetsPanel.hideDefaultWidgets,defaultPanelDisplayText:this._isNullOrUndefined(this.embedOptions.dashboardSettings.widgetsPanel)?"":this.embedOptions.dashboardSettings.widgetsPanel.defaultPanelDisplayText,existingPanelDisplayText:this._isNullOrUndefined(this.embedOptions.dashboardSettings.widgetsPanel)?"":this.embedOptions.dashboardSettings.widgetsPanel.existingPanelDisplayText,defaultPanelSearchPlaceholder:this._isNullOrUndefined(this.embedOptions.dashboardSettings.widgetsPanel)?"":this.embedOptions.dashboardSettings.widgetsPanel.defaultPanelSearchPlaceholder,existingPanelSearchPlaceholder:this._isNullOrUndefined(this.embedOptions.dashboardSettings.widgetsPanel)?"":this.embedOptions.dashboardSettings.widgetsPanel.existingPanelSearchPlaceholder,existingDashboards:this._isNullOrUndefined(this.embedOptions.dashboardSettings.widgetsPanel)?[]:this.embedOptions.dashboardSettings.widgetsPanel.existingDashboards,dragAndDropSettings:{rowSpan:this._isNullOrUndefined(this.embedOptions.dashboardSettings.widgetsPanel)||this._isNullOrUndefined(this.embedOptions.dashboardSettings.widgetsPanel.dragAndDropSettings)?null:this.embedOptions.dashboardSettings.widgetsPanel.dragAndDropSettings.rowSpan,columnSpan:this._isNullOrUndefined(this.embedOptions.dashboardSettings.widgetsPanel)||this._isNullOrUndefined(this.embedOptions.dashboardSettings.widgetsPanel.dragAndDropSettings)?null:this.embedOptions.dashboardSettings.widgetsPanel.dragAndDropSettings.columnSpan,isWidgetMode:!this._isNullOrUndefined(this.embedOptions.dashboardSettings.widgetsPanel)&&!this._isNullOrUndefined(this.embedOptions.dashboardSettings.widgetsPanel.dragAndDropSettings)&&this.embedOptions.dashboardSettings.widgetsPanel.dragAndDropSettings.isWidgetMode}},dataSourceConfig:{hideDataSourceConfig:!this._isNullOrUndefined(this.embedOptions.dashboardSettings.dataSourceConfig)&&this.embedOptions.dashboardSettings.dataSourceConfig.hideDataSourceConfig,hideSampleDataSources:!this._isNullOrUndefined(this.embedOptions.dashboardSettings.dataSourceConfig)&&this.embedOptions.dashboardSettings.dataSourceConfig.hideSampleDataSources,hideDataSourceList:!this._isNullOrUndefined(this.embedOptions.dashboardSettings.dataSourceConfig)&&this.embedOptions.dashboardSettings.dataSourceConfig.hideDataSourceList,hideExpression:!this._isNullOrUndefined(this.embedOptions.dashboardSettings.dataSourceConfig)&&this.embedOptions.dashboardSettings.dataSourceConfig.hideExpression}},b.userSettings={hidePreviewAs:!this._isNullOrUndefined(this.embedOptions.dashboardSettings.showPreviewAs)&&!this.embedOptions.dashboardSettings.showPreviewAs}}if(this.embedOptions.mode==r.Mode.Connection&&(b.connectionList=d.ConnectionList),this.embedOptions.mode==r.Mode.DataSource&&(b.itemId=this._isNullOrUndefined(this.embedOptions.token)||this._isEmptyOrSpaces(this.embedOptions.token)?d.ItemDetail.Id:this.embedOptions.datasourceId,b.datasourceName=this._isNullOrUndefined(this.embedOptions.token)||this._isEmptyOrSpaces(this.embedOptions.token)?d.ItemDetail.Name:this.embedOptions.datasourceName,b.datasource=this._isNullOrUndefined(this.embedOptions.token)||this._isEmptyOrSpaces(this.embedOptions.token)?d.ItemDetail.Id:this.embedOptions.datasourceId),this.isMultipleWidgetMode=""!=this.embedOptions.widgetList&&this.isMultipleWidgetMode,this.isWidgetMode&&(b.isPinWidget=this.isWidgetMode,b.widgetId=this._isNullOrUndefined(this.embedOptions.token)||this._isEmptyOrSpaces(this.embedOptions.token)?d.WidgetId:this.widgetName),0==this.embedOptions.dashboardSettings.showHeader?b.isHideHeader=!0:b.isHideHeader=!1,this.isMultiTab&&(b.dashboardSettings={parentId:this.parentDbrdId,isMultiTab:null!=this.parentDbrdId&&""!==this.parentDbrdId}),this.embedOptions.dynamicConnection.isEnabled&&(b.customIdentity=this.embedOptions.dynamicConnection.identity),this.embedOptions.autoRefreshSettings.enabled&&(b.enableAutoRefresh=!0,b.autoRefreshSettings={intervalSettings:{mode:"Hourly",hourlySchedule:{hours:this.embedOptions.autoRefreshSettings.hourlySchedule.hours,minutes:this.embedOptions.autoRefreshSettings.hourlySchedule.minutes,seconds:this.embedOptions.autoRefreshSettings.hourlySchedule.seconds}}}),!this.loadMultipleWidget&&this.embedOptions.embedAiAssistant.enableAiAssistant&&(b.isAiSummariesEnabledGlobally=this.embedOptions.embedAiAssistant.enableAiSummary,b.embedAiAssistant={enableAiAssistant:!0,aiAssistantPosition:this.embedOptions.embedAiAssistant.aiAssistantPosition,hideAIDataUsage:this.embedOptions.embedAiAssistant.hideAiDataUsage},b.isAiSummariesEnabledGlobally&&(b.embedAiAssistant.enableWidgetSummary=this.embedOptions.embedAiAssistant.enableWidgetSummary,b.embedAiAssistant.enableDashboardSummary=this.embedOptions.embedAiAssistant.enableDashboardSummary)),!(window.bbEmbed instanceof Function))throw new Error(s.errorMessages.bbEmbedNotDefined);{let e,n=window.bbEmbed.call(t,"#"+(t.pinboardIds.length>0?i+"_embeddedbi":t.childContainer.id));if(0===n.length&&(n=window.bbEmbed.call(t,"#"+i+"_embeddedbi"),e=i+"_embeddedbi"),window.BoldBIDashboardDesigner instanceof Function){const i=this._getDashboardInstance(e);null!=i?(i.model=Object.assign(i.model,b),i.redrawDashboard()):window.BoldBIDashboardDesigner.call(t,n,b)}else this._throwError(s.errorMessages.ErrorInBoldBIDesigner);if(1==this.isMultipleWidgetMode){const e=JSON.parse(d.WidgetList);let t=-1;if(Object.keys(e).forEach((i=>{if(t++,""==e[String(i)]){const n=s.errorMessages.InvalidWidgetName;delete e[String(i)];const o=this.embedOptions.widgetList[Number(t)].containerId;this.errorOnContainer(n,o),this.embedOptions.widgetList.splice(t,1),t--}})),0==this.embedOptions.widgetList.length){if(this._isNullOrUndefined(this.embedOptions.onError)||""==this.embedOptions.onError)throw new Error(s.errorMessages.InvalidAllWidgetNames);{const e=new Error(s.errorMessages.InvalidAllWidgetNames);this.onErrorClient(e)}}d.WidgetList=JSON.stringify(e)}}""==this.embedOptions.widgetList&&this._removeElementsClass(i,".preloader-wrap","viewer-blue-loader"),this.isMultiTab&&!this.embedOptions.token&&!this.embedOptions.isPublicDashboard&&d.ItemDetail.ItemViews&&(this.embedOptions.dashboardSettings.filterOverviewSettings.viewId=this.embedOptions.dashboardSettings.filterOverviewSettings.viewName=this.embedOptions.filterParameters=null)}}})),this._changeLayoutSuccess=this.Invoke((function(e){if(e.Status&&""!=this.homepageItemId&&this.isVirtualHomepage)this.afterVirtualHomepageSave(this.homepageItemId);else if(!e.Status)throw new Error(s.errorMessages.LayoutFailure+e.Message)})),this._createPinboardDom=this.Invoke((function(e){const t=this;if(a("#widget-container").attr("data-homepage-id",e.Id).attr("data-current-layout",e.ColumnInfo.Layout).attr("data-item-type",e.ItemType).attr("data-virtual-homepage",e.IsVirtualHomepage),"widget"==e.ItemType.toLowerCase()){const i=e.ColumnInfo.Column;a.each(i,(function(e){a("#widget-container").append("<ul id=column-"+(e+1)+' class="widget-list" data-column-id='+(e+1)+"></ul>"),i[`${e}`].Item.length>0?a.each(i[`${e}`].Item,(function(s){const n=null==i[`${e}`].Item[`${s}`].Id?"/bi/"+t.siteIdentifier+"/widgets/widgets":"/bi/"+t.siteIdentifier+"/dashboards",o=i[`${e}`].Item[`${s}`].Name,d=i[`${e}`].Item[`${s}`].WidgetType;let r=0;r=null!=d&&(d.includes("Card")||d.includes("Image"))?250:400;const l=null!=i[`${e}`].Item[`${s}`].QueryString?i[`${e}`].Item[`${s}`].QueryString:"",h=null==i[`${e}`].Item[`${s}`].TabId?n+"/"+i[`${e}`].Item[`${s}`].ItemId+"/"+(null!=i[`${e}`].Item[`${s}`].Id?i[`${e}`].Item[`${s}`].CategoryName+"/":"")+i[`${e}`].Item[`${s}`].ItemName+(""!=l?"?"+l:l):n+"/"+i[`${e}`].Item[`${s}`].ItemId+"/"+(null!=i[`${e}`].Item[`${s}`].Id?i[`${e}`].Item[`${s}`].CategoryName+"/":"")+i[`${e}`].Item[`${s}`].ItemName+"?tab="+i[`${e}`].Item[`${s}`].TabId+(""!=l?"&"+l:l),m=0!=s?'style="width:100%;height:100%;"':"";if(".sydj"!=i[`${e}`].Item[`${s}`].ItemExtension.toLowerCase())a("#column-"+(e+1)).append('<li class="list-item" '+m+'><div class="widget" id=widget_'+(e+1)+"_"+(s+1)+' data-dashboardurl="'+h+'" style="height:100%;width:100%;"></div></li>');else{const i=t.embedOptions.pinboardSettings.enableUnpinWidget||void 0===t.embedOptions.pinboardSettings.enableUnpinWidget?'<div id="widget-icons"><i class="items unpin-widget su su-delete" data-bs-toggle="tooltip" data-original-title="Unpin Widget"  style="color: black;" /></div>':"";a("#column-"+(e+1)).append('<li class="list-item" '+m+'><div class="widget" id=widget_'+(e+1)+"_"+(s+1)+' data-dashboardurl="'+h+'" style="height: '+r+'px;width:100%;background:#fff;"><div class="widget-sortable" style="width:100%;float:left;display:block;height:0px"><div style="height:100%;width:100%;cursor:move;"><div id="item-name">'+o+"</div>"+i+"</div></div></div></li>")}})):a("#column-"+(e+1)).append('<li class="empty click-container"><div class="empty-content empty-homepage"><span class="drag-widget" style="font-family:var(--font-family)">Drag your widgets here to customize layout</span></div></li>')}));const s=a("li.list-item a");for(let e=0;e<s.length;e++)a("li.list-item a").eq(e).attr("href",a("li.list-item a").eq(e).attr("data-url"))}else"dashboard"==e.ItemType.toLowerCase()&&(a("#add-item, #layout-container, #divider").hide(),a("#widget-container").append('<ul id="column-1" class="dashboard-column col-lg-12 col-md-12 col-sm-12 col-12" data-column-id="1"><li class="dashboard-list"><div class="dashboard" id="dashboard_1_1" style="height:100%;width:100%"></div></li></ul>'))})),this._dragAndDropSuccess=this.Invoke((function(e){if(!e.Status)throw new Error(s.errorMessages.DragAndDropError+e.Message)})),this._renderMultiTabDashboard=this.Invoke((function(e){this.isMultiTab=!0;const t=this,i=a("#"+t.embedOptions.embedContainerId);i.html(""),"undefined"!=typeof ejdashboard&&ejdashboard.base&&"function"==typeof ejdashboard.base.registerLicense&&ejdashboard.base.registerLicense("ORg4AjUWIQA/Gnt2V1hiQlRPd11dXmJWd1p/THNYflR1fV9DaUwxOX1dQl9gSXZQd0VkXHpfeXJURWY=");const s=t.embedOptions.embedContainerId+"_parent_multi_tab_dashboard",n=a('<div id="'+s+'" class="bi-dashboard parent-multitab-dbrd" style="height: 100% !important"></div>');i.append(n);const o=t.embedOptions.embedContainerId+"_multi_tab_dashboard",r=a('<div id="'+o+'" class="multitab-dbrd" style="height: 100% !important"></div>');n.append(r);const l=a('<div class="e-tab-header"></div>'),h=a('<div class="e-content"></div>');a.map(e,(function(e){let i={};t.embedOptions.token?(i.Id=e.DashboardId,i.Name=e.DashboardName,i.TabName=e.TabName||i.DashboardName):(i=JSON.parse(e.ItemDetail),i.TabName=e.TabName||i.Name),t.parentDbrdId=t.embedOptions.token?t.embedOptions.dashboardId:e.parentId;const s=i.Id.replaceAll("-","");t.dashboardDetails[`${s}`]=e,t._isNullOrUndefined(t.embedOptions.dashboardSettings.dashboardName)||"string"==typeof t.embedOptions.dashboardSettings.dashboardName||a.map(t.embedOptions.dashboardSettings.dashboardName,(function(e){i.Name=s==e.dashboardId.replaceAll("-","")?t._isEmptyOrSpaces(e.dashboardName)?i.Name:e.dashboardName:i.Name})),l.append(a("<div>"+i.TabName+"</div>"));const n=a('<div style="height:100%;width:100%;overflow: hidden !important;" id="multi_'+s+'"></div>');h.append(a("<div></div>").append(n.append('<div id="multi_'+s+'_embeddedbi" class="bbembed-multitab-dbrd"></div>')))})),r.append(l).append(h),d=new ejdashboard.navigations.Tab({enableAnimation:!1,selected:a.proxy(this._tabSelected,this)}),d.appendTo("#"+o),a(".e-tab-header .e-toolbar-item .e-tab-text").css({display:"inline-block",width:"150px","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis",color:"#000","font-family":"var(--font-family)","text-transform":"none"}),a('<style type="text/css"> .embed-multi-tab-indicator{ background: var(--primary-branding-color) !important; border-radius: 4px; display: block !important; height: 5px !important;}</style>').appendTo("head"),a(".e-control.e-tab .e-tab-header .e-indicator").addClass("embed-multi-tab-indicator"),a.map(a(".e-tab-header .e-toolbar-item .e-tab-text"),(function(e,t){a(e).attr("title",a(e).text()),a(a(".e-content").find("#e-content-multi_tab_dashboard_"+t).children()).css({height:"100%",width:"100%",overflow:"hidden",display:"block",position:"absolute",left:a(".e-content.e-lib.e-touch").width()*t})})),a(".multitab-dbrd .e-content").attr("style","height: 100% !important"),a.map(a(".multitab-dbrd .e-content").children(),(function(e){a(e).css({height:"100%"})})),a(i).css({"overflow-x":"hidden","overflow-y":"hidden",width:t.embedOptions.width}),a("#"+o).css({width:a(".e-content.e-lib.e-touch").width(),height:this.embedOptions.height}),a(".e-tab-header")[0].ej2_instances[0].refreshOverflow(),d.resizeContext(),a.map(e,(function(e,i){if(0==i){const i={Apistatus:!0,Data:e,Status:!0};t._renderDashboard(i)}}))})),this._getAuthorizationToken=this.Invoke((function(e){const t=this,i=e||this.embedOptions.dashboardId,n=this.embedOptions.dashboardIds.join(","),o=this.embedOptions.dashboardPaths.join(",");let d="embed_nonce="+this._uuidv4Generartor()+"&embed_dashboard_id="+i+"&embed_dashboard_ids="+n+"&embed_dashboard_path="+this.embedOptions.dashboardPath+"&embed_dashboard_paths="+o+"&pinboard_name="+(this.pinBoardRendered?this.embedOptions.pinboardName:"")+"&embed_mode="+this.embedOptions.mode+"&embed_timestamp="+Math.round((new Date).getTime()/1e3)+"&embed_expirationtime="+this.embedOptions.expirationTime;if(this.embedOptions.anonymousToken.isEnabled){const{groupName:e,userEmail:t}=this.embedOptions.anonymousToken;d+=`&embed_user_email=${t}&embed_anonymous_token=true&embed_authorize_group=${e}`}if(this.embedOptions.viewId?d=d+"&embed_dashboardview_id="+this.embedOptions.viewId:this.embedOptions.viewName&&(d=d+"&embed_dashboardview_name="+this.embedOptions.viewName),this.isWidgetMode)if(0==this.isMultipleWidgetMode)d=d+"&embed_widget_isenabled="+this.isWidgetMode+"&embed_widget_name="+this.widgetName;else{const e=[];this.embedOptions.widgetList.forEach((function(t){e.push(t.widgetName.toLowerCase())})),d=d+"&embed_widget_isenabled="+this.isWidgetMode+"&embed_widget_list="+e}this.isMultiTab&&(d=d+"&isMultiTab="+this.isMultiTab),this._isEmptyOrSpaces(this.embedOptions.datasourceId)?this._isEmptyOrSpaces(this.embedOptions.datasourceName)||(d=d+"&embed_datasource_name="+this.embedOptions.datasourceName):d=d+"&embed_datasource_id="+this.embedOptions.datasourceId;const l={embedQuerString:encodeURI(d),dashboardServerApiUrl:this.dashboardServerApiUrl};if(""!=this.embedOptions.authorizationServer.url)this._xhrRequestHelper("POST",this.embedOptions.authorizationServer.url,l,this.embedOptions.authorizationServer.headers,this._renderDashboard);else if(this._isNullOrUndefined(this.embedOptions.authorizationServer.data)||""==this.embedOptions.authorizationServer.data||""!=this.embedOptions.authorizationServer.url)if(this.embedOptions.enableDomainMasking)this._renderDashboard(this.embedOptions.authorizationServer.data);else{if(""!=this.embedOptions.authorizationServer.url&&""!=this.embedOptions.authorizationServer.data||this.embedOptions.mode!=r.Mode.View||!this._isEmptyOrSpaces(this.embedOptions.pinboardName)||!(this.embedOptions.dashboardId||this.embedOptions.dashboardPath||this.embedOptions.dashboardIds||this.embedOptions.dashboardPaths))throw new Error(s.errorMessages.AuthorizationServerMissing);a.ajax({async:!0,type:"POST",url:this.dashboardServerApiUrl+this.embedAuthorizeEndPoint,data:JSON.stringify(d),contentType:"application/json",success:a.proxy(t._renderDashboard,t)})}else this._renderDashboard(this.embedOptions.authorizationServer.data);this.pinBoardRendered=!0})),this._validateOptions=this.Invoke((function(e){if(this.embedOptions.embedContainer=e.embedContainerId,e.enableDomainMasking)return!0;if(this._isNullOrUndefined(e.onError)||(this.embedOptions.onError=e.onError),this._isEmptyOrSpaces(e.embedContainerId)&&this._isNullOrUndefined(e.widgetList))throw this.invalidDetail=!0,new Error(s.errorMessages.InvalidEmbedContainerID);if(this._isEmptyOrSpaces(e.serverUrl))throw this.invalidDetail=!0,new Error(s.errorMessages.EmptyServerURL);if(!this._isUrl(e.serverUrl))throw this.invalidDetail=!0,new Error(s.errorMessages.InvalidServerURL);if(!this._isEmptyOrSpaces(e.pinboardName))return!0;if(e.mode==r.Mode.Connection)return!0;if(e.dashboardPath||e.dashboardPaths&&e.mode!==r.Mode.DataSource){const t=e.dashboardPath?[e.dashboardPath]:e.dashboardPaths;t.forEach(((e,i)=>{t[Number(i)]=`${e.startsWith("/")?"":"/"}${e}`.replace(/\/+$/,"");const n=t[Number(i)].split("/");if(3!==n.length||""!==n[0]||""===n[1]||""===n[2])throw new Error(s.errorMessages.InvalidDashboardPath+e)})),e.dashboardPath?e.dashboardPath=t[0]:e.dashboardPaths=t}if(this._isEmptyOrSpaces(e.dashboardId)&&(!e.dashboardIds||!e.dashboardIds.length)&&(!e.dashboardPaths||!e.dashboardPaths.length)&&this._isEmptyOrSpaces(e.dashboardPath)&&e.mode!==r.Mode.Design&&this._isEmptyOrSpaces(e.datasourceId)&&this._isEmptyOrSpaces(e.datasourceName)){if(e.mode==r.Mode.DataSource)throw this.invalidDetail=!0,new Error(s.errorMessages.EmptyDatasourceDetails);if(this._isEmptyOrSpaces(e.pinboardName)&&!this._isNullOrUndefined(e.pinboardName))throw this.invalidDetail=!0,new Error(s.errorMessages.PinboardNameEmpty);if(this._isEmptyOrSpaces(e.viewId))throw this.invalidDetail=!0,new Error(s.errorMessages.EmptyDbrdOrViewID)}return!0})),Object.assign(this,o.DefaultConstructor,e),this.loadDashboard=this.Invoke((function(e){this._loadDashboard(e)})),this.loadMultitabDashboard=this.Invoke((function(e){this._loadMultitabDashboard(e)})),this.loadView=this.Invoke((function(){this._loadView()})),this.loadDashboardWidget=this.Invoke((function(e,t){this._loadDashboardWidget(e,t)})),this.loadMultipleWidgets=this.Invoke((function(e){this._loadMultipleWidgets(e)})),this.loadDesigner=this.Invoke((function(e){this._loadDesigner(e)})),this.refreshWidgetData=this.Invoke((function(e,t,i){this._refreshWidgetData(e,t,i)})),this.addWidgetToPinboard=this.Invoke((function(e,t,i){this._addWidgetToPinboard(e,t,i)})),this.saveFilterView=this.Invoke((function(e,t){this._saveFilterViews(e,t)})),this.saveAsFilterView=this.Invoke((function(e,t){this._saveAsFilterViews(e,t)})),this.updateFilterView=this.Invoke((function(e,t){this._updateFilterViews(e,t)})),this.getViewsByDashboardId=this.Invoke((function(e,t){this._getViewsByDashboardId(e,t)})),this.getViewByViewId=this.Invoke((function(e,t){this._getViewByViewId(e,t)})),this.deleteFilterView=this.Invoke((function(e,t){this._deleteFilterView(e,t)}))}_loadDashboard(e){if(!this._isInvalidEmbed(r.Mode.View,"EmbedModeInvalid")){if(null!=e&&(this.embedOptions.dashboardId=e),this.embedOptions.anonymousToken.isEnabled){const{groupName:e,userEmail:t}=this.embedOptions.anonymousToken;if(this._isEmptyOrSpaces(e)&&this._isEmptyOrSpaces(t))throw new Error(s.errorMessages.AnonymousEmailandGroup);if(this._isEmptyOrSpaces(e))throw new Error(s.errorMessages.AnonymousGroup);if(this._isEmptyOrSpaces(t))throw new Error(s.errorMessages.AnonymousEmail)}this._checkWidgetList()||(this.embedOptions.embedType==r.EmbedType.Component?(this.embedOptions.dashboardIds=[],this.embedOptions.dashboardPaths=[],this.isDashboardRendering=!0,this._setEmbedDefaults(),this._showLoader(),this._isDependencyLoaded(this)):this.embedOptions.embedType==r.EmbedType.IFrame&&this._createIframe(`${this.embedOptions.serverUrl}/dashboards/${this.embedOptions.dashboardId}?isembed=true`))}}_loadMultitabDashboard(e){this._isInvalidEmbed(r.Mode.View,"EmbedModeInvalid")||(null!=e&&(this.embedOptions.dashboardIds=e),this.embedOptions.embedType==r.EmbedType.Component&&(this.embedOptions.viewId="",this.embedOptions.viewName="",this._setEmbedDefaults(),this._showLoader(),this._isDependencyLoaded(this)))}_loadView(){if(!this._isInvalidEmbed(r.Mode.View,"EmbedModeInvalid")){if(""==this.embedOptions.viewId&&""==this.embedOptions.viewName)throw new Error(s.errorMessages.EmptyViewDetails);this.embedOptions.embedType==r.EmbedType.Component&&(this.embedOptions.dashboardIds=[],this.embedOptions.dashboardPaths=[],this.isDashboardViewRendering=!0,this._setEmbedDefaults(),this._showLoader(),this._isDependencyLoaded(this))}}_loadDashboardWidget(e,t){if(this._isEmptyOrSpaces(e))throw new Error(s.errorMessages.EmptyWidgetID);this._isInvalidEmbed(r.Mode.View,"UnableWidgetRender")||(""!=this.embedOptions.pinboardName&&this.pinBoardRendered&&(this.embedOptions.pinboardName=""),this._checkWidgetList()||(this.embedOptions.embedType==r.EmbedType.Component?(this.embedOptions.viewId="",this.embedOptions.viewName="",this.embedOptions.dashboardIds=[],this.embedOptions.dashboardPaths=[],this._setEmbedDefaults(),this.isWidgetMode=!0,this.widgetName=e,this._showLoader(),this._isDependencyLoaded(this,t)):this.embedOptions.embedType==r.EmbedType.IFrame&&this._createIframe(`${this.embedOptions.serverUrl}/dashboards/${this.embedOptions.dashboardId}?isembed=true`)))}_loadMultipleWidgets(e){if(""==this.embedOptions.widgetList)throw new Error(s.errorMessages.EmptyWidgetList);if(!this._isInvalidEmbed(r.Mode.View,"EmbedModeInvalid")&&(null!=e&&(this.embedOptions.dashboardId=e),this.embedOptions.embedType==r.EmbedType.Component)){this._setEmbedDefaults(),this.isWidgetMode=!0,this.isMultipleWidgetMode=!0,this.loadMultipleWidget=!0;const t=setInterval((()=>{window.jQuery&&(clearInterval(t),this._widgetNamesEmpty()&&this._isDependencyLoaded(this,e))}),1e3)}}_loadDesigner(e){this._isInvalidEmbed(r.Mode.Design,"EmbedModeInvalid")||(null!=e&&(this.embedOptions.dashboardId=e),this._checkWidgetList()||(this.embedOptions.embedType==r.EmbedType.Component?(this.isDashboardRendering=!0,this._setEmbedDefaults(),this._showLoader(),this._isDependencyLoaded(this)):this.embedOptions.embedType==r.EmbedType.IFrame&&this._createIframe(`${this.embedOptions.serverUrl}/dashboard-designer/${this.embedOptions.dashboardId}?isembed=true`)))}_createIframe(e){var t;const i=document.createElement("iframe");i.frameBorder=0,i.width=this.embedOptions.width,i.height=this.embedOptions.height,i.id=`${this.embedOptions.embedContainerId}_${this.embedOptions.dashboardId}`,i.allowfullscreen=this.embedOptions.dashboardSettings.showFullScreen,i.setAttribute("src",e),null===(t=document.getElementById(this.embedOptions.embedContainerId))||void 0===t||t.appendChild(i)}_setEmbedDefaults(){this.isWidgetMode=!1,this.widgetName="",this.isDashboardViewMode=!1,this.dashboardViewName=""}_isInvalidEmbed(e,t){if(this.invalidDetail)return!0;if(this.embedOptions.mode!==e)throw new Error(s.errorMessages[t]);return""!=this.embedOptions.pinboardName&&(this.embedOptions.pinboardName=""),!1}_refreshWidgetData(e,t,i){if(1!=Array.isArray(e))throw new Error(s.errorMessages.ArrayWidgetNames);if(this.isMultiTab){const s=a("#"+this.embedOptions.embedContainerId).find(".e-content .bbembed-multitab-dbrd");for(let n=0;n<s.length;n++)if(a(s[`${n}`]).attr("id").includes(i.toString().replaceAll("-",""))>0){const i=a(s[`${n}`]).attr("id"),o=this._getDashboardInstance(i);null!=o&&o.refreshWidget(e,t);break}}else if(this.isMultipleWidgetMode)this._multipleWidgets("refreshWidget",e,t);else{const i=this._getDashboardInstance();null!=i&&i.refreshWidget(e,t)}}_addWidgetToPinboard(e,t,i){if(this._isEmptyOrSpaces(e)||this._isEmptyOrSpaces(t)||this._isEmptyOrSpaces(i))throw this._isEmptyOrSpaces(e)||this._isEmptyOrSpaces(t)?new Error(s.errorMessages.InvalidDbrdAndWidget):new Error(s.errorMessages.InvalidWidgetName);{if(!/^[a-zA-Z0-9!@$^ ()_=\-}{.`~]*$/.test(i))throw new Error(s.errorMessages.WidgetNameSpecialChar);const n=a("#widget-container").attr("data-homepage-id"),o=this,d="embed_nonce="+this._uuidv4Generartor()+"&homepageId="+n+"&isPinUpdate="+!0+"&pinWidgetId="+t+"&pinDashbooardId="+e+"&pinWidgetName="+(this._isNullOrUndefined(i)?null:i)+"&pinboard_name="+this.embedOptions.pinboardName+"&embed_mode="+this.embedOptions.mode+"&embed_timestamp="+Math.round((new Date).getTime()/1e3)+"&embed_expirationtime="+this.embedOptions.expirationTime,r={embedQuerString:encodeURI(d),dashboardServerApiUrl:this.dashboardServerApiUrl};this._xhrRequestHelper("POST",this.embedOptions.authorizationServer.url,r,this.embedOptions.authorizationServer.headers,(function(e){e.Status?o._addWidgetInPinboard(e.Data):e.Status||o._throwError(s.errorMessages.UnableAddWidget+e.Message)}))}}_makeAjaxRequest(e,t,i,s,n={},o){const d=this._validatetoken(this.accessToken),r=this;a.ajax({async:!1,type:e,url:t,headers:{Authorization:d},data:JSON.stringify(i),contentType:"application/json",success:function(e){r[o](e,s,r,n)},error:function(e){r.ajaxErrorFnc(e)}})}_saveFilterViews(e,t){const i=this._isValidGuid(e.ItemId),n=!!this.isMultiTab&&this._isValidGuid(e.ChildItemId);if(this._isEmptyOrSpaces(e.ViewName)||this._isEmptyOrSpaces(e.QueryString)||!(this.isMultiTab&&n&&i||i)){if(!i)throw new Error(s.errorMessages.InvalidDashboardID);if(this.isMultiTab&&!n)throw new Error(s.errorMessages.InvalidChildDbrdID);if(this._isEmptyOrSpaces(e.ViewName))throw new Error(s.errorMessages.InvalidViewName);if(this._isEmptyOrSpaces(e.QueryString))throw new Error(s.errorMessages.InvalidQueryString)}else{const i={ViewName:e.ViewName,ItemId:e.ItemId,QueryString:e.QueryString,IsPublic:!1,ChildItemId:this.isMultiTab?e.ChildItemId:null,IsDefault:!!e.IsDefault&&e.IsDefault};this._makeAjaxRequest("POST",`${this.dashboardServerApiUrl}/v4.0/dashboards/views`,i,t,e,"_saveViewSuccess")}}_saveAsFilterViews(e,t){const i=this._isValidGuid(e.ItemId),n=!!this.isMultiTab&&this._isValidGuid(e.ChildItemId);if(this._isEmptyOrSpaces(e.ViewName)||this._isEmptyOrSpaces(e.QueryString)||!(this.isMultiTab&&n&&i||i)){if(!i)throw new Error(s.errorMessages.InvalidDashboardID);if(this.isMultiTab&&!n)throw new Error(s.errorMessages.InvalidChildDbrdID);if(this._isEmptyOrSpaces(e.ViewName))throw new Error(s.errorMessages.InvalidViewName);if(this._isEmptyOrSpaces(e.QueryString))throw new Error(s.errorMessages.InvalidQueryString)}else{const i={ViewName:e.ViewName,ItemId:e.ItemId,QueryString:e.QueryString,ChildItemId:this.isMultiTab?e.ChildItemId:null,IsDefault:!!e.IsDefault&&e.IsDefault};this._makeAjaxRequest("POST",`${this.dashboardServerApiUrl}/v4.0/dashboards/views`,i,t,e,"_saveViewSuccess")}}_updateFilterViews(e,t){const i=this._isValidGuid(e.DashboardId),n=this._isValidGuid(e.ViewId);if(i&&!this._isEmptyOrSpaces(e.QueryString)&&n){const i={ViewId:e.ViewId,DashboardId:e.DashboardId,QueryString:e.QueryString,IsDefault:e.IsDefault};this._makeAjaxRequest("PUT",`${this.dashboardServerApiUrl}/v4.0/dashboards/views`,i,t,e,"_updateFilterViewsSuccess")}else{if(!i)throw new Error(s.errorMessages.InvalidDashboardID);if(!n)throw new Error(s.errorMessages.InvalidViewID);if(this._isEmptyOrSpaces(e.QueryString))throw new Error(s.errorMessages.InvalidQueryString)}}_getViewsByDashboardId(e,t){const i=this._isValidGuid(e);if(i){const i={DashboardId:e};this._makeAjaxRequest("GET",`${this.dashboardServerApiUrl}/v4.0/dashboards/${e}/views`,i,t,null,"_getViewsByDashboardIdSuccess")}else if(!i)throw new Error(s.errorMessages.InvalidDashboardID)}_getViewByViewId(e,t){const i=this._isValidGuid(e);if(i){const i={ViewId:e};this._makeAjaxRequest("GET",`${this.dashboardServerApiUrl}/v4.0/dashboards/views/${e}`,i,t,null,"_getViewByViewIdSuccess")}else if(!i)throw new Error(s.errorMessages.InvalidViewID)}_deleteFilterView(e,t){const i=this._isValidGuid(e);if(i){const i={ViewId:e};this._makeAjaxRequest("DELETE",`${this.dashboardServerApiUrl}/v4.0/dashboards/views/${e}`,i,t,e,"_deleteFilterViewSuccess")}else if(!i)throw new Error(s.errorMessages.InvalidViewID)}_saveViewSuccess(e,t,i,s){const n=i;if(e.Status){const i={ItemId:s.ItemId,ViewId:e.Data,ViewName:s.ViewName};n._updateInFilterOverviewUI(i.ViewName,e.Data),window[`${t}`]instanceof Function?window[`${t}`].call(n,i,e.StatusMessage):t.call(n,i,e.StatusMessage)}else window[`${t}`]instanceof Function?window[`${t}`].call(n,null,e.StatusMessage):t.call(n,null,e.StatusMessage)}_updateFilterViewsSuccess(e,t,i,s){const n=i;if(e.Status){const i={};i.ViewId=s.ViewId,window[`${t}`]instanceof Function?window[`${t}`].call(n,i,e.StatusMessage):t.call(n,i,e.StatusMessage)}}_deleteFilterViewSuccess(e,t,i,s){var n=i;window[`${t}`]instanceof Function?window[`${t}`].call(n,s):t.call(n,s)}_getViewByViewIdSuccess(e,t,i){const s=i,n={};e&&(n.ViewId=e.ViewId,n.ViewName=e.ViewName,n.QueryString=e.QueryString),window[`${t}`]instanceof Function?window[`${t}`].call(s,n):t.call(s,n)}_getViewsByDashboardIdSuccess(e,t,i){const s=i;if(e){const i=[];for(let t=0;t<e.length;t++){const s={};s.ItemId=e[`${t}`].ItemId,s.ViewId=e[`${t}`].ViewId,s.ViewName=e[`${t}`].ViewName,s.QueryString=e[`${t}`].QueryString,i.push(s)}window[`${t}`]instanceof Function?window[`${t}`].call(s,i):t.call(s,i)}else window[`${t}`]instanceof Function?window[`${t}`].call(s):t.call(s)}_isValidGuid(e){return/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/.test(e)}static create(e){const t=new r;if(t.isMultiTab=!1,t.parentDbrdId="",t.pinboardIds=[],delete window.multiTabFilterParameter,document.addEventListener&&(document.addEventListener("webkitfullscreenchange",(function(){t._fullscreenExitHandler(t)}),!1),document.addEventListener("mozfullscreenchange",(function(){t._fullscreenExitHandler(t)}),!1),document.addEventListener("fullscreenchange",(function(){t._fullscreenExitHandler(t)}),!1),document.addEventListener("MSFullscreenChange",(function(){t._fullscreenExitHandler(t)}),!1),window.addEventListener("resize",(function(){t.resizeDashboard(),t._isEmptyOrSpaces(t.embedOptions.pinboardName)&&(t._isNullOrUndefined(t.embedOptions.pinboardName)||t._isNullOrUndefined(a))||t.setListMinimumHeight()}))),t._validateOptions(e)){if(t._initializeEmbedOptions(e),t.embedOptions.embedType!=r.EmbedType.Component)return t._throwError(s.errorMessages.InvalidEmbedType,t.embedOptions.embedContainerId),t.invalidDetail=!0,Object.assign(t);try{if(""==t.embedOptions.widgetList||t.embedOptions.embedContainerId){t.childContainer=document.createElement("div"),t.childContainer.id=t.embedOptions.embedContainerId+"_embeddedbi";const e=r._gettinstance(document.getElementById(t.embedOptions.embedContainerId),"embeddedBoldBI");null==e&&null==e||t._isNullOrUndefined(a)||e.destroy(),document.getElementById(t.embedOptions.embedContainerId).innerHTML="",document.getElementById(t.embedOptions.embedContainerId).append(t.childContainer)}if(!t._initializeUrls())return t.invalidDetail=!0,Object.assign(t);t.embedOptions.width||t.embedOptions.height||t._setDimensions(),t.IsDependencyLoaded||(t.embedOptions.environment==r.Environment.Cloud?(t._isEmptyOrSpaces(t.cdnLink)||t._isEmptyOrSpaces(t.designerRootUrl))&&t._getCloudLinks():t._addJquerydependentFiles())}catch(e){return e.message==s.errorMessages.CantReadNull?(alert(s.errorMessages.InvalidEmbedContainerID),!1):(t._throwError(e.message,t.embedOptions.embedContainerId),t.invalidDetail=!0,Object.assign(t))}if(""==t.embedOptions.widgetList||t.embedOptions.embedContainerId){const e=document.getElementById(t.embedOptions.embedContainerId);this._hasinstance(e,"embeddedBoldBI")&&this._removeinstance(e,"embeddedBoldBI")}const i=Object.assign(t);if(""==t.embedOptions.widgetList||t.embedOptions.embedContainerId){const e=document.getElementById(t.embedOptions.embedContainerId);this._putinstance(e,"embeddedBoldBI",i)}return i}return t._initializeEmbedOptions(e),t.invalidDetail=!0,Object.assign(t)}static getInstance(e){return r._widgetsCollection=[],this._gettinstance(document.getElementById(e),"embeddedBoldBI")}Invoke(e){const t=this;return function(...i){try{return e.apply(this,i)}catch(e){t._throwError(e,this.embedOptions.embedContainer)}}.bind(this)}destroy(){const e=this;if(this.isMultiTab){const e=a("#"+this.embedOptions.embedContainerId).find(".e-content .bbembed-multitab-dbrd");for(let t=0;t<e.length;t++){const i=a(e[`${t}`]).attr("id"),s=this._getDashboardInstance(i);null!=s&&s.destroy()}r._removeinstance(document.getElementById(this.embedOptions.embedContainerId),"embeddedBoldBI"),document.getElementById(this.embedOptions.embedContainerId).innerHTML=""}else if(a(".pinBoardDbrd").length>0)a(".pinBoardDbrd").each((function(){const t=e._getDashboardInstance(this.id);null!=t&&t.destroy()})),r._removeinstance(document.getElementById(this.embedOptions.embedContainerId),"embeddedBoldBI"),document.getElementById(this.embedOptions.embedContainerId).innerHTML="";else{this.isMultipleWidgetMode&&this._multipleWidgets("destroy");const e=this.embedOptions.embedContainerId,t=this._getDashboardInstance();null!=t&&t.destroy(),r._removeinstance(document.getElementById(e),"embeddedBoldBI"),document.getElementById(e).innerHTML=""}1==this.embedOptions.isRemoveStyle&&document.querySelectorAll("link").forEach((function(t){e.cssFiles.forEach((function(e){-1!=t.href.toLowerCase().indexOf(e.toLowerCase())&&t.parentNode.removeChild(t)}))}))}loadDashboardView(){throw new Error(s.errorMessages.NotImplementedMethod)}exportDashboardAsPdf(e){if(this.isMultiTab){let t=e.dashboardId;t=t.replaceAll("-","");const i="multi_"+t+"_embeddedbi",s=this._getDashboardInstance(i);null!=s&&s.exportAsPdf(e.fileName,e.pageSize,e.pageOrientation,e.showAppliedFilters)}else{const t=this._getDashboardInstance();null!=t&&(e?t.exportAsPdf(e.fileName,e.pageSize,e.pageOrientation,e.showAppliedFilters):t.exportAsPdf())}}exportDashboardAsImage(e){if(parseInt(e.resolutionDpi,10)>300&&(e.resolutionDpi="300"),this.isMultiTab){let t=e.dashboardId;t=t.replaceAll("-","");const i="multi_"+t+"_embeddedbi",s=this._getDashboardInstance(i);null!=s&&s.exportAsImage(e.fileName,e.exportImageFormat,e.resolutionDpi,e.showAppliedFilters)}else{const t=this._getDashboardInstance();null!=t&&(e?t.exportAsImage(e.fileName,e.exportImageFormat,e.resolutionDpi,e.showAppliedFilters):t.exportAsImage())}}exportDashboardAsExcel(e){if(this.isMultiTab){let t=e.dashboardId;t=t.replaceAll("-","");const i="multi_"+t+"_embeddedbi",s=this._getDashboardInstance(i);null!=s&&s.exportAsExcel(e.fileName,e.fileType)}else{const t=this._getDashboardInstance();null!=t&&(e?t.exportAsExcel(e.fileName,e.fileType):t.exportAsExcel())}}exportWidgetAsPdf(e){const t=this;if(this.isMultiTab){let t=e.dashboardId;t=t.replaceAll("-","");const i="multi_"+t+"_embeddedbi",s=this._getDashboardInstance(i);null!=s&&s.exportWidgetAsPdf(e.widgetName,e.fileName,e.pageSize,e.pageOrientation,e.showAppliedFilters)}else if(a(".pinBoardDbrd").length>0){const i=a(".pinBoardDbrd").length;for(let s=0;s<i;s++)if(t.pinboardIds[`${s}`].widgetId==e.dashboardId){const i=t.pinboardIds[`${s}`].pinboardContainerId,n=t._getDashboardInstance(i+"_embeddedbi");null!=n&&n.exportWidgetAsPdf(e.widgetName,e.fileName,e.pageSize,e.pageOrientation,e.showAppliedFilters)}}else if(this.isMultipleWidgetMode)this._multipleWidgets("exportWidgetAsPdf",e.dashboardId,e.widgetName,e.fileName,e.pageSize,e.pageOrientation,e.showAppliedFilters);else{const t=this._getDashboardInstance();null!=t&&t.exportWidgetAsPdf(e.widgetName,e.fileName,e.pageSize,e.pageOrientation,e.showAppliedFilters)}}exportWidgetAsImage(e){const t=this;if(parseInt(e.resolutionDpi,10)>300&&(e.resolutionDpi="300"),this.isMultiTab){let t=e.dashboardId;t=t.replaceAll("-","");const i="multi_"+t+"_embeddedbi",s=this._getDashboardInstance(i);null!=s&&s.exportWidgetAsImage(e.widgetName,e.fileName,e.exportImageFormat,e.resolutionDpi,e.showAppliedFilters)}else if(a(".pinBoardDbrd").length>0){const i=a(".pinBoardDbrd").length;for(let s=0;s<i;s++)if(t.pinboardIds[`${s}`].widgetId==e.dashboardId){const i=t.pinboardIds[`${s}`].pinboardContainerId,n=t._getDashboardInstance(i+"_embeddedbi");null!=n&&n.exportWidgetAsImage(e.widgetName,e.fileName,e.exportImageFormat,e.resolutionDpi,e.showAppliedFilters)}}else if(this.isMultipleWidgetMode)this._multipleWidgets("exportWidgetAsImage",e.dashboardId,e.widgetName,e.fileName,e.exportImageFormat,e.resolutionDpi,e.showAppliedFilters);else{const t=this._getDashboardInstance();null!=t&&t.exportWidgetAsImage(e.widgetName,e.fileName,e.exportImageFormat,e.resolutionDpi,e.showAppliedFilters)}}exportWidgetAsExcel(e){const t=this;if(this.isMultiTab){let t=e.dashboardId;t=t.replaceAll("-","");const i="multi_"+t+"_embeddedbi",s=this._getDashboardInstance(i);null!=s&&s.exportWidgetAsExcel(e.widgetName,e.fileName,e.fileType)}else if(a(".pinBoardDbrd").length>0){const i=a(".pinBoardDbrd").length;for(let s=0;s<i;s++)if(t.pinboardIds[`${s}`].widgetId==e.dashboardId){const i=t.pinboardIds[`${s}`].pinboardContainerId,n=t._getDashboardInstance(i+"_embeddedbi");null!=n&&n.exportWidgetAsExcel(e.widgetName,e.fileName,e.fileType)}}else if(this.isMultipleWidgetMode)this._multipleWidgets("exportWidgetAsExcel",e.dashboardId,e.widgetName,e.fileName,e.fileType);else{const t=this._getDashboardInstance();null!=t&&t.exportWidgetAsExcel(e.widgetName,e.fileName,e.fileType)}}exportWidgetAsCsv(e){const t=this;if(this.isMultiTab){let t=e.dashboardId;t=t.replaceAll("-","");const i="multi_"+t+"_embeddedbi",s=this._getDashboardInstance(i);null!=s&&s.exportWidgetAsCsv(e.widgetName,e.fileName)}else if(a(".pinBoardDbrd").length>0){const i=a(".pinBoardDbrd").length;for(let s=0;s<i;s++)if(t.pinboardIds[`${s}`].widgetId==e.dashboardId){const i=t.pinboardIds[`${s}`].pinboardContainerId,n=t._getDashboardInstance(i+"_embeddedbi");null!=n&&n.exportWidgetAsCsv(e.widgetName,e.fileName)}}else if(this.isMultipleWidgetMode)this._multipleWidgets("exportWidgetAsCsv",e.dashboardId,e.widgetName,e.fileName);else{const t=this._getDashboardInstance();null!=t&&t.exportWidgetAsCsv(e.widgetName,e.fileName)}}updateDatasource(){const e=this._getDashboardInstance();null!=e&&e.modules.queryDesigner.saveQueryInfo()}updateFilters(e){const t=this;if(this.isMultiTab){window.multiTabFilterParameter=e;const t=a("#"+this.embedOptions.embedContainerId).find(".e-content .bbembed-multitab-dbrd");for(let i=0;i<t.length;i++){const s=a(t[`${i}`]).attr("id"),n=this._getDashboardInstance(s);null!=n&&n.option("filterParameters",e)}}else if(a(".pinBoardDbrd").length>0)a(".pinBoardDbrd").each((function(){const i=t._getDashboardInstance(this.id);null!=i&&i.option("filterParameters",e)}));else if(this.isMultipleWidgetMode)this._multipleWidgets("filterParameters",e);else{const t=this._getDashboardInstance();null!=t&&t.option("filterParameters",e)}}updateDashboardTheme(e){if(e&&""!==e.trim()){const t=this;this.embedOptions.dashboardSettings=this.embedOptions.dashboardSettings||{},this.embedOptions.dashboardSettings.themeSettings=this.embedOptions.dashboardSettings.themeSettings||{},this.embedOptions.dashboardSettings.themeSettings.dashboard=e,document.querySelectorAll("link").forEach((function(e){e.href.includes("/dashboard?theme=")&&e.parentNode.removeChild(e)}));const i=document.createElement("link");if(i.rel="stylesheet",this.embedOptions.environment==r.Environment.Enterprise?i.href=this.customThemeUrl+"/dashboard?theme="+e:i.href=this.rootUrl+"/theme/styles/dashboard?theme="+e,a('link[href="'+i.href+'"]').length<1&&document.head.appendChild(i),this.isMultiTab){const t=a("#"+this.embedOptions.embedContainerId).find(".e-content .bbembed-multitab-dbrd");for(let i=0;i<t.length;i++){const s=a(t[`${i}`]).attr("id"),n=this._getDashboardInstance(s);null!=n&&n.option("dashboardThemeSettings.dashboardTheme",e)}}else if(a(".pinBoardDbrd").length>0)a(".pinBoardDbrd").each((function(){const i=t._getDashboardInstance(this.id);null!=i&&i.option("dashboardThemeSettings.dashboardTheme",e)}));else{const t=this._getDashboardInstance();null!=t&&t.option("dashboardThemeSettings.dashboardTheme",e)}}else this._throwError(s.errorMessages.InvalidThemeName)}resizeDashboard(e){const t=this;if(this.embedOptions.isDynamicWidth&&this.embedOptions.isDynamicHeight&&this._onBrowserWindowResize(),this.isMultiTab){a("#"+t.embedOptions.embedContainerId+"_multi_tab_dashboard").css("width",a("#"+t.embedOptions.embedContainerId).width()),window.multiTabFilterParameter=e;const i=a("#"+this.embedOptions.embedContainerId).find(".e-content .bbembed-multitab-dbrd");for(let e=0;e<i.length;e++){const s=a(i[`${e}`]).attr("id"),n=this._getDashboardInstance(s);if(null!=n){const e=window[t.embedOptions.onResize];e instanceof Function&&e.call(this,n),this.embedOptions.onResize instanceof Function&&this.embedOptions.onResize.call(this,n),setTimeout((()=>{n.resizeDashboard()}),200)}}this._tabSelected()}else if(a(".pinBoardDbrd").length>0)a(".pinBoardDbrd").each((function(){const e=t._getDashboardInstance(this.id);if(null!=e){const i=window[t.embedOptions.onResize];i instanceof Function&&i.call(t,e),t.embedOptions.onResize instanceof Function&&t.embedOptions.onResize.call(t,e),e.resizeDashboard()}}));else if(this.isMultipleWidgetMode)this._multipleWidgets("resizeDashboard");else{const e=this._getDashboardInstance();if(null!=e){const i=window[t.embedOptions.onResize];i instanceof Function&&i.call(this,e),this.embedOptions.onResize instanceof Function&&this.embedOptions.onResize.call(this,e),setTimeout((()=>{e.resizeDashboard()}),200)}}}refreshDashboard(){const e=this;if(this.isMultiTab){const e=a("#"+this.embedOptions.embedContainerId).find(".e-content .bbembed-multitab-dbrd");for(let t=0;t<e.length;t++){const i=a(e[`${t}`]).attr("id"),s=this._getDashboardInstance(i);null!=s&&s.updateDashboard()}}else if(a(".pinBoardDbrd").length>0)a(".pinBoardDbrd").each((function(){const t=e._getDashboardInstance(this.id);null!=t&&t.updateDashboard()}));else if(this.isMultipleWidgetMode)this._multipleWidgets("updateDashboard");else{const e=this._getDashboardInstance();null!=e&&e.updateDashboard()}}clearAllFilter(){if(this.isMultiTab){const e=a("#"+this.embedOptions.embedContainerId).find(".e-content .bbembed-multitab-dbrd");for(let t=0;t<e.length;t++){const i=a(e[`${t}`]).attr("id"),s=this._getDashboardInstance(i);null!=s&&s.clearAllFilters()}}else if(this.isMultipleWidgetMode)this._multipleWidgets("clearAllFilters");else{const e=this._getDashboardInstance();null!=e&&e.clearAllFilters()}}hidePopup(){if(this.isMultiTab){const e=a("#"+this.embedOptions.embedContainerId).find(".e-content .bbembed-multitab-dbrd");for(let t=0;t<e.length;t++){const i=a(e[`${t}`]).attr("id"),s=this._getDashboardInstance(i);null!=s&&s.hideAllPopupsForDashboard()}}else{const e=this._getDashboardInstance();null!=e&&e.hideAllPopupsForDashboard()}}hideWaitingIndicator(){if(this.isMultiTab){const e=a("#"+this.embedOptions.embedContainerId).find(".e-content .bbembed-multitab-dbrd");for(let t=0;t<e.length;t++){const i=a(e[`${t}`]).attr("id"),s=a("#"+i+"_designAreaContainer").data("BoldBIDashboardWaitingPopup");null!=s&&s.destroy()}}else{const e=a(".bbi-dashboarddesigner-designAreaContainer").data("BoldBIDashboardWaitingPopup");null!=e&&e.destroy()}}getWidgetData(e,t,i){let s;if(this.isMultiTab){const n=a("#"+this.embedOptions.embedContainerId).find(".e-content .bbembed-multitab-dbrd");for(let o=0;o<n.length;o++)if(a(n[`${o}`]).attr("id").includes(i.toString().replaceAll("-",""))>0){const i=a(n[`${o}`]).attr("id"),d=this._getDashboardInstance(i);null!=d&&(s=d.getWidgetData(e,t),s.toLowerCase().includes("widget")>0&&(window[`${t}`]instanceof Function?window[`${t}`].call(this,s):t.call(this,s)));break}}else{const i=this._getDashboardInstance();null!=i&&(s=i.getWidgetData(e,t),s.toLowerCase().includes("widget")>0&&(window[`${t}`]instanceof Function?window[`${t}`].call(this,s):t.call(this,s)))}}getWidgetDataWithFilters(e,t,i,n){let o;const d=JSON.stringify({dashboardId:t,widgetName:e,filter:i});if(this._isEmptyOrSpaces(t))return o={status:!1,message:s.errorMessages.InvalidDashboardID,request:d},o;if(this._isEmptyOrSpaces(e))return o={status:!1,message:s.errorMessages.InvalidWidgetName,request:d},o;const r=this;var l=this._validatetoken(r.accessToken);return a.ajax({type:"POST",url:this.designerRootUrl+"/v1.0/design/loadwidgetdata",data:d,contentType:"application/json; charset=utf-8",beforeSend:function(e){e.setRequestHeader("Authorization",l),e.setRequestHeader("Caller",r.dashboardServerApiUrl)},success:function(e){o=e.Status?{status:e.Status,data:e.Data,message:e.Message,request:d}:{status:e.Status,message:e.Message,request:d},n.call(r,o)},error:function(e,t){o={status:!1,message:t,request:e},n.call(r,o)}}),o={status:!0,message:s.errorMessages.InitFetch,request:d},o}getDashboardCategories(e,t){const i=this._isNullOrUndefined(t)||this._isEmptyOrSpaces(t)?this._getDashboardInstance():this._getDashboardInstance(t+"_embeddedbi");if(null!=i){const t=i.GetDashboardCategories(e);window[`${e}`]instanceof Function?window[`${e}`].call(this,t):e.call(this,t)}}createDashboardCategory(e,t,i,s){const n=this._isNullOrUndefined(s)||this._isEmptyOrSpaces(s)?this._getDashboardInstance():this._getDashboardInstance(s+"_embeddedbi");if(null!=n){const s=n.CreateDashboardCategory(e,t,i);window[`${i}`]instanceof Function?window[`${i}`].call(this,s):i.call(this,s)}}saveDashboard(e,t){const i=this._isNullOrUndefined(t)||this._isEmptyOrSpaces(t)?this._getDashboardInstance():this._getDashboardInstance(t+"_embeddedbi");null!=i&&(i.model.serverSettings.enableMarkAsPublic=!!e.IsPublic&&e.IsPublic,i.saveDashboardToServer(e))}getWidgetInstance(e){const t=new l;t.containerID=this.embedOptions.embedContainerId,this._widgetsCollection[this._widgetsCollection.length]=e;const i=Object.assign(t);return t.widgetCollection=this._widgetsCollection,r._hasinstance(document.getElementById(this.embedOptions.embedContainerId),"embeddedBoldBIWidget_"+e)||r._putinstance(document.getElementById(this.embedOptions.embedContainerId),"embeddedBoldBIWidget_"+e,i),i}updateWidgetFilters(e){const t=this,i=this._getWidgetFilterInfo();if(this.isMultiTab){const e=a("#"+this.embedOptions.embedContainerId).find(".e-content .bbembed-multitab-dbrd");for(let t=0;t<e.length;t++){const s=a(e[`${t}`]).attr("id"),n=this._getDashboardInstance(s);null!=n&&n.option("widgets",i)}}else if(a(".pinBoardDbrd").length>0)a(".pinBoardDbrd").each((function(){const e=t._getDashboardInstance(this.id);null!=e&&e.option("widgets",i)}));else if(this.isMultipleWidgetMode)this._multipleWidgets("widgets",i);else{const t=this._isNullOrUndefined(e)||this._isEmptyOrSpaces(e)?this._getDashboardInstance():this._getDashboardInstance(e+"_embeddedbi");null!=t&&t.option("widgets",i)}}_initializeEmbedOptions(e){this.embedOptions=Object.assign(this.embedOptions,e)}_setDimensions(){const e=document.getElementById(this.embedOptions.embedContainerId);if(e.style.width&&e.style.height)this.embedOptions.width=e.style.width,this.embedOptions.height=e.style.height;else{const t=e.parentNode;this.embedOptions.width=`${(null==t?void 0:t.clientWidth)||window.innerWidth}px`,this.embedOptions.height=`${(null==t?void 0:t.clientHeight)||window.innerHeight}px`,Object.assign(this.embedOptions,{isDynamicWidth:!0,isDynamicHeight:!0})}}_onBrowserWindowResize(){if(this.embedOptions.isDynamicWidth&&this.embedOptions.isDynamicHeight){const e=document.getElementById(this.embedOptions.embedContainerId),t=e.parentNode;e.style.width=`${(null==t?void 0:t.clientWidth)||window.innerWidth}px`,e.style.height=`${(null==t?void 0:t.clientHeight)||window.innerHeight}px`}}_loadCloudDepedentFiles(e){const t=e.Data;this.cdnLink=t.CdnUrl,this.designerRootUrl=t.DesignerServerUrl,this._addJquerydependentFiles()}_handleEnvironmentError(e){"error"==e.type&&(this._throwError(s.errorMessages.EnvironmentMemberError),this.invalidDetail=!0)}_getCloudLinks(){this._isEmptyOrSpaces(this.embedOptions.cloudCdnTimeStamp)?this._xhrRequestHelper("Get",this.dashboardServerApiUrl+"/system-settings/get-url",{},{},this._loadCloudDepedentFiles):(this.cdnLink=`https://cdn.boldbi.com/ds/${this.embedOptions.cloudCdnTimeStamp}/cdn`,this.designerRootUrl="https://data.boldbi.com",this._addJquerydependentFiles())}_loadDepedentFiles(){this.embedOptions.dashboardSettings.themeSettings&&!this.embedOptions.dashboardSettings.themeSettings.isLocalTheme&&this.embedOptions.dashboardSettings.themeSettings.dashboard?this._addedDependentFiles(this,this.dashboardThemeCssFiles,!0):this.embedOptions.dashboardSettings.themeSettings&&!this.embedOptions.dashboardSettings.themeSettings.isLocalTheme?this._addedDependentFiles(this,this.applicationThemeCssFiles,!0):this.embedOptions.dashboardSettings.themeSettings||this._addedDependentFiles(this,this.applicationThemeCssFiles,!0),this.embedOptions.mode==r.Mode.Design||this.embedOptions.mode==r.Mode.DataSource||this.embedOptions.mode==r.Mode.Connection?this._addedDependentFiles(this,this.designerScriptFiles,!1):this._addedDependentFiles(this,this.viewerScriptFiles,!1),this._isNullOrUndefined(this.embedOptions.dashboardSettings.fontFamily)||this._isEmptyOrSpaces(this.embedOptions.dashboardSettings.fontFamily)||this._addedDependentFiles(this,this.fontFamilyCssFiles,!0),""!=this.embedOptions.pinboardName&&this._addedDependentFiles(this,this.pinBoardScriptFiles,!1),this._addedDependentFiles(this,this.cssFiles,!0),""!=this.embedOptions.pinboardName&&this._addedDependentFiles(this,this.pinboardCssFiles,!0),this.embedOptions.mode!=r.Mode.Design&&this.embedOptions.mode!=r.Mode.DataSource&&this.embedOptions.mode!=r.Mode.Connection||this._addedDependentFiles(this,this.designerCssFiles,!0),this.embedOptions.isBingMapRequired&&this._loadBingmapDependentFiles(),this._loadDependentDesignerFiles(this)}_loadBingmapDependentFiles(){a('<script type="text/javascript" src="https://www.bing.com/api/maps/mapcontrol" async><\/script>').appendTo("head")}_loadDependentDesignerFiles(e){window.BoldBIDashboard instanceof Object&&window.BoldBIDashboard.createObject instanceof Function&&window.Designer instanceof Object?(e._addedDependentFiles(e,e.ejViewerDependentFiles,!1),e.embedOptions.mode!=r.Mode.Design&&e.embedOptions.mode!=r.Mode.DataSource&&e.embedOptions.mode!=r.Mode.Connection||e._addedDependentFiles(e,e.ejDesignerDependentFiles,!1)):setTimeout(e._loadDependentDesignerFiles,50,e)}_addWrapperDependentFiles(e,t){const i=e;t.forEach(function(e){if(!("jquery-ui.min.js"==e&&null!=window.jQuery.ui&&"1.12.1"==window.jQuery.ui.version||"jsrender.min.js"==e&&null!=window.jQuery.views&&"v1.0.0-beta"==window.jQuery.views.jsviews)){const t=document.createElement("script");this.embedOptions.nonce&&(t.nonce=this.embedOptions.nonce),"jquery.easing.1.3.min.js"==e&&(t.src=i.embedOptions.environment==r.Environment.Enterprise?i.embedOptions.enableDomainMasking?this.maskedCdnUrl+this.embedSDKWrapperVersion+"/script/"+e:i.rootUrl+"/cdn/scripts/designer/"+e:i.cdnLink+"/scripts/designer/"+e),"jquery-ui.min.js"==e?t.src=i.embedOptions.environment==r.Environment.Enterprise?i.embedOptions.enableDomainMasking?this.maskedCdnUrl+this.embedSDKWrapperVersion+"/script/"+e:i.rootUrl+"/cdn/scripts/"+e:i.cdnLink+"/scripts/"+e:"jsrender.min.js"==e&&(t.src=i.embedOptions.environment==r.Environment.Enterprise?i.embedOptions.enableDomainMasking?this.maskedCdnUrl+this.embedSDKWrapperVersion+"/script/"+e:i.rootUrl+"/cdn/scripts/designer/"+e:i.cdnLink+"/scripts/designer/"+e),document.head.appendChild(t),t.onerror=e=>this._handleEnvironmentError(e)}}.bind(i))}_addedDependentFiles(e,t,i){let s="";t.forEach(function(t){if(!e._checkDepedentFileExists(t,i))if(i){if(e.embedOptions.environment==r.Environment.Enterprise)if("font-server.min.css"==t)s=e.embedOptions.enableDomainMasking?this.maskedCdnUrl+this.embedSDKWrapperVersion+"/css/"+t:e.rootUrl+"/cdn/css/"+t;else if("bootstrap.min.css"==t)s=e.rootUrl+"/Content/Styles/Bootstrap/"+t;else if("pinboard-embed.min.css"==t)s=e.rootUrl+"/cdn/css/"+t;else if("boldbi.theme.definition.min.css"==t)s=!e.embedOptions.dashboardSettings.themeSettings||e.embedOptions.dashboardSettings.themeSettings.isLocalTheme||e._isNullOrUndefined(e.embedOptions.dashboardSettings.themeSettings.appearance)||e._isEmptyOrSpaces(e.embedOptions.dashboardSettings.themeSettings.appearance)?e.embedOptions.enableDomainMasking?this.maskedCdnUrl+this.embedSDKWrapperVersion+"/css/light/"+t:e.rootUrl+"/cdn/css/designer/light/"+t:e.rootUrl+"/cdn/css/designer/"+e.embedOptions.dashboardSettings.themeSettings.appearance+"/"+t;else if("application.theme.css"==t||"dashboard.theme.css"==t)!e.embedOptions.dashboardSettings.themeSettings||e.embedOptions.dashboardSettings.themeSettings.isLocalTheme||e._isNullOrUndefined(e.embedOptions.dashboardSettings.themeSettings.dashboard)||e._isEmptyOrSpaces(e.embedOptions.dashboardSettings.themeSettings.dashboard)?!e.embedOptions.dashboardSettings.themeSettings||e.embedOptions.dashboardSettings.themeSettings.isLocalTheme||e._isNullOrUndefined(e.embedOptions.dashboardSettings.themeSettings.application)||e._isEmptyOrSpaces(e.embedOptions.dashboardSettings.themeSettings.application)||(s=e.customThemeUrl+"/application?theme="+e.embedOptions.dashboardSettings.themeSettings.application):s=e.customThemeUrl+"/dashboard?theme="+e.embedOptions.dashboardSettings.themeSettings.dashboard;else if("font-family.min.css"==t){const t=this.rootUrl.replace(/\/bi(?!.*\/bi)/,"/ums/user-interface/fonts");s=t+"?family="+e.embedOptions.dashboardSettings.fontFamily}else s=e.embedOptions.enableDomainMasking?this.maskedCdnUrl+this.embedSDKWrapperVersion+"/css/"+t:e.rootUrl+"/webdesignerservice/themes/"+t;else"font-server.min.css"==t?s=e.embedOptions.enableDomainMasking?this.maskedCdnUrl+this.embedSDKWrapperVersion+"/css/"+t:e.cdnLink+"/css/"+t:"bootstrap.min.css"==t||"pinboard-embed.min.css"==t?s=e.cdnLink+"/css/"+t:"boldbi.theme.definition.min.css"==t?s=!e.embedOptions.dashboardSettings.themeSettings||e.embedOptions.dashboardSettings.themeSettings.isLocalTheme||e._isNullOrUndefined(e.embedOptions.dashboardSettings.themeSettings.appearance)||e._isEmptyOrSpaces(e.embedOptions.dashboardSettings.themeSettings.appearance)?e.embedOptions.enableDomainMasking?this.maskedCdnUrl+this.embedSDKWrapperVersion+"/css/light/"+t:e.cdnLink+"/css/designer/light/"+t:e.cdnLink+"/css/designer/"+e.embedOptions.dashboardSettings.themeSettings.appearance+"/"+t:"application.theme.css"==t||"dashboard.theme.css"==t?!e.embedOptions.dashboardSettings.themeSettings||e.embedOptions.dashboardSettings.themeSettings.isLocalTheme||e._isNullOrUndefined(e.embedOptions.dashboardSettings.themeSettings.dashboard)||e._isEmptyOrSpaces(e.embedOptions.dashboardSettings.themeSettings.dashboard)?!e.embedOptions.dashboardSettings.themeSettings||e.embedOptions.dashboardSettings.themeSettings.isLocalTheme||e._isNullOrUndefined(e.embedOptions.dashboardSettings.themeSettings.application)||e._isEmptyOrSpaces(e.embedOptions.dashboardSettings.themeSettings.application)||(s=e.rootUrl+"/theme/styles/application?theme="+e.embedOptions.dashboardSettings.themeSettings.application):s=e.rootUrl+"/theme/styles/dashboard?theme="+e.embedOptions.dashboardSettings.themeSettings.dashboard:s="font-family.min.css"==t?e.rootUrl+"/user-interface/fonts?family="+e.embedOptions.dashboardSettings.fontFamily:e.embedOptions.enableDomainMasking?this.maskedCdnUrl+this.embedSDKWrapperVersion+"/css/"+t:e.cdnLink+"/css/designer/"+t;const i=document.createElement("link");i.rel="stylesheet",i.href=s,a('link[href="'+s+'"]').length<1&&document.head.appendChild(i)}else{s=e.embedOptions.environment==r.Environment.Enterprise?"bootstrap.min.js"==t?e.rootUrl+"/cdn/scripts/"+t:"designerlocalization.js"==t?e.embedOptions.enableDomainMasking?this.maskedCdnUrl+this.embedSDKWrapperVersion+"/script/"+t:e.rootUrl+"/designer/localization/"+t+"?c="+e.embedOptions.localeSettings.appLocale:"signalr.min.js"==t?e.embedOptions.enableDomainMasking?this.maskedCdnUrl+this.embedSDKWrapperVersion+"/script/"+t:e.rootUrl+"/cdn/scripts/signalr/"+t:e.embedOptions.enableDomainMasking?this.maskedCdnUrl+this.embedSDKWrapperVersion+"/script/"+t:e.rootUrl+"/cdn/scripts/designer/"+t:"bootstrap.min.js"==t?e.cdnLink+"/scripts/"+t:"designerlocalization.js"==t?e.embedOptions.enableDomainMasking?this.maskedCdnUrl+this.embedSDKWrapperVersion+"/script/"+t:e.designerRootUrl+"/localization/"+t:"signalr.min.js"==t?e.embedOptions.enableDomainMasking?this.maskedCdnUrl+this.embedSDKWrapperVersion+"/script/"+t:e.cdnLink+"/scripts/signalr/"+t:e.embedOptions.enableDomainMasking?this.maskedCdnUrl+this.embedSDKWrapperVersion+"/script/"+t:e.cdnLink+"/scripts/designer/"+t;const i=document.createElement("script");i.type="text/javascript",i.src=s,this.embedOptions.nonce&&(i.nonce=this.embedOptions.nonce),a('script[src= "'+s+'"]').length<1&&document.head.appendChild(i),i.onerror=e=>this._handleEnvironmentError(e)}}.bind(e))}_checkDepedentFileExists(e,t){let i=!1;const s=t?"link":"script";return document.head.querySelectorAll(s).forEach((function(s){i||(i=t?-1!=s.href.indexOf(e):-1!=s.src.indexOf(e))})),i}getDashboardData(){return this._getDashboardInstance().getDashboardData()}_renderPinboard(e){const t=a('<div id="server-app-container" style="background: #f9f9f9; overflow: hidden !important;min-height: 600px; width:'+this.embedOptions.width+';"><div id="content-area" class="clearfix col-12 e-waitingpopup e-js" style="padding: 0;padding-bottom: 30px"><div id="homepage-page-container"><div id="homepage-header" style="display:'+(this.embedOptions.pinboardSettings.enablePinboardHeader||void 0===this.embedOptions.pinboardSettings.enablePinboardHeader?"block":"none")+';font-family:var(--font-family)"><div id="element-container"><div id="homepage-menu" style="margin-top: 5px"><span id="homepage-list-container" style="font-size: 15px;width: 165px;line-height: 18px;padding: 25px;">'+this.embedOptions.pinboardName+'</span></div><div id="options-container"><div id="pinboard-fullscreen" class="server-banner-icon e-dashboard-banner-icon bbi-dbrd-designer-hoverable su su-maximize-1 e-icon-dbrd-theme" data-tooltip="Fullscreen" data-name="fullscreen" data-event="true" style="font-size: 14px;display: block;float: left;margin: 8px 15px 0 7px; cursor: pointer"></div><div id="divider"></div><div id="layout-container"><div id="layout" class="dropdown-toggle" data-bs-toggle="dropdown">Edit Layout</div><div class="dropdown-menu" id="layout-items" role="menu"><span class="su su-single-column" id="1"></span><span class="su su-two-column" id="11"></span><span class="su su-small-big-column" id="12"></span><span class="su su-big-small-column" id="21"></span><span class="su su-three-column" id="111"></span></div></div></div></div></div><div id="widget-container" data-homepage-id="" data-current-layout="" data-virtual-homepage="" style="margin-bottom: 30px"></div></div></div></div>');a("#"+this.embedOptions.embedContainerId).append(t),this._createPinboardDom(e),this._renderItem(e),this._removeElementsClass(this.embedOptions.embedContainerId,".preloader-wrap","viewer-blue-loader");const i=this;a(document).on("click",".unpin-widget",(function(e){e.preventDefault();const t=a("#"+a(e.target).parents("li").find(".pinWidget").attr("id")+"_embeddedbi").data("BoldBIDashboardDesigner"),s=window[i.embedOptions.onUnpin];s instanceof Function&&s.call(this,t),i.embedOptions.onUnpin instanceof Function&&i.embedOptions.onUnpin.call(i,t),i.column=parseInt(a(this).closest("ul").attr("data-column-id"),10),i.position=a(this).parents("li").index()+1,t.destroy(),i._unPinItem(i.column,i.position)})),a(document).on("click","#pinboard-fullscreen",(function(){const e=a("#server-app-container")[0];document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?(a("#server-app-container").attr("style","background-color: #f9f9f9; height:"+a("#content-area").height()+"px;overflow: hidden !important;min-height: 600px; width:"+i.embedOptions.width),document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()):(a("#server-app-container").removeAttr("style"),a("#server-app-container").attr("style","background-color: #f9f9f9; overflow: auto !important"),e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):"ActiveXObject"in window&&(new ActiveXObject("Wscript.shell").SendKeys("{F11}"),setTimeout((function(){(screen.availHeight||screen.height-30)<=window.innerHeight?a("#pinboard-fullscreen").removeClass("su-maximize-1").addClass("su-minimize").attr("data-tooltip","Exit Fullscreen"):a("#pinboard-fullscreen").addClass("su-maximize-1").removeClass("su-minimize").attr("data-tooltip","Fullscreen")}),400)))})),a(document).on("click","#layout-items span",(function(){const e=window[i.embedOptions.onLayoutChange];e instanceof Function&&e.call(this,a("#widget-container")),i.embedOptions.onLayoutChange instanceof Function&&i.embedOptions.onLayoutChange.call(i,a("#widget-container"));const t=a("#widget-container").attr("data-current-layout");switch(a("#widget-container").attr("data-current-layout",a(this).attr("id")),a("#layout-items span").removeClass("active"),a(this).addClass("active"),a(this).attr("id")){case"1":"1"!=t&&(i.changeLayout(1),"111"==t?i.appendListItem(1,2):"11"!=t&&"12"!=t&&"21"!=t||i.appendListItem(1,1),i._setLayout(1));break;case"11":"11"!=t&&(i.changeLayout(11),"111"==t?i.appendListItem(2,1):"1"==t&&i.createEmptyList(2,2),i._setLayout(11));break;case"12":"12"!=t&&(i.changeLayout(12),"111"==t?i.appendListItem(2,1):"1"==t&&i.createEmptyList(2,2),i._setLayout(12));break;case"21":"21"!=t&&(i.changeLayout(21),"111"==t?i.appendListItem(2,1):"1"==t&&i.createEmptyList(2,2),i._setLayout(21));break;case"111":"111"!=t&&(i.changeLayout(111),"1"==t?i.createEmptyList(2,3):"11"!=t&&"12"!=t&&"21"!=t||i.createEmptyList(3,3),i._setLayout(111))}})),a.map(i.pinboardDetails,(function(e){i.isWidgetMode=!0,i.widgetName=i.embedOptions.token?e.Id:e.WidgetId,i.isDashboardViewMode=!1,i.dashboardViewName="";const t={Apistatus:!0,Data:i.embedOptions.token?e:JSON.parse(e),Status:!0};i._renderDashboard(t)}))}_widgetNamesEmpty(){const e=s.errorMessages.EmptyWidgetName;for(let t=0;t<this.embedOptions.widgetList.length;t++){const i=this.embedOptions.widgetList[Number(t)];this._isEmptyOrSpaces(i.widgetName)&&(this.errorOnContainer(e,i.containerId),this.embedOptions.widgetList.splice(t,1),t--)}return this.embedOptions.widgetList.length>0}errorOnContainer(e,t){const i='<div id="embedded-bi-error" style="display:table;height:100%;width:100%;"><div style="display: table-cell;vertical-align: middle;text-align: center;"><div style="display: inline-block;"><img src='+this.errorImage+' style="float: left"/><div style="float: left;margin-left: 10px;line-height: 20px;">BoldBI Embedded: '+e+"</div></div>";document.getElementById(t).innerHTML=i}createEmptyList(e,t){for(let i=e;i<=t;i++)a("#widget-container").append('<ul id="column-'+i+'" data-column-id="'+i+'" data-child-count="0"><li class="empty click-container"><div class="empty-content empty-homepage"><span class="drag-widget" style="font-family:var(--font-family)">Drag your widgets here to customize layout</span></div></li></ul>')}appendListItem(e,t){for(let i=e+1;i<=e+t;i++)a("#column-"+i+" li:not(.empty)").length>0&&a("#column-"+e+" li.empty").remove(),a("#column-"+e).append(a("#column-"+i+" li:not(.empty)")),a("#column-"+i).remove()}changeLayout(e){const t=this;let i;t.homepageItemId=a("#widget-container").attr("data-homepage-id"),t.isVirtualHomepage=a("#widget-container").attr("data-virtual-homepage"),""==t.homepageItemId&&t.isVirtualHomepage&&a("#initial-message").hide();const s="embed_nonce="+this._uuidv4Generartor()+"&homepageId="+t.homepageItemId+"&layout="+e+"&embed_mode="+this.embedOptions.mode+"&embed_timestamp="+Math.round((new Date).getTime()/1e3)+"&embed_expirationtime="+this.embedOptions.expirationTime;if(t.embedOptions.token||t._isEmptyOrSpaces(t.embedOptions.authorizationServer.url)){var n=this._validatetoken(t.embedOptions.token);i={homepageId:t.homepageItemId,layout:e},a.ajax({async:!1,type:"POST",url:t.dashboardServerApiUrl+this.embedGetDetailsEndPoint,headers:{Authorization:n},data:JSON.stringify(i),contentType:"application/json",success:a.proxy(t._changeLayoutSuccess,t)})}else i={embedQuerString:encodeURI(s),dashboardServerApiUrl:this.dashboardServerApiUrl},this._xhrRequestHelper("POST",this.embedOptions.authorizationServer.url,i,this.embedOptions.authorizationServer.headers,this._changeLayoutSuccess)}_checkEmptyHomepage(){let e=0,t=!1;return a("#widget-container ul").each((function(i){return e=a("#column-"+(i+1)+' li:not(".empty")').length,t=!(e>0),!(e>0)})),t}_setLayout(e){const t=a("#widget-container").attr("data-item-type").toLowerCase();switch(a("#layout-items").find("span#"+e).addClass("active"),e){case 1:a("#column-1").removeClass().addClass("col-lg-12 col-md-12 col-sm-12 col-12");break;case 11:a("#column-1,#column-2").removeClass().addClass("col-lg-6 col-md-6 col-sm-6 col-6");break;case 12:a("#column-1").removeClass().addClass("col-lg-4 col-md-4 col-sm-4 col-4"),a("#column-2").removeClass().addClass("col-lg-8 col-md-8 col-sm-8 col-8");break;case 21:a("#column-1").removeClass().addClass("col-lg-8 col-md-8 col-sm-8 col-8"),a("#column-2").removeClass().addClass("col-lg-4 col-md-4 col-sm-4 col-4");break;case 111:a("#column-1,#column-2,#column-3").removeClass().addClass("col-lg-4 col-md-4 col-sm-4 col-4")}if(this._checkEmptyHomepage()&&(window.IsMobile?(a("#widget-container ul li.empty .empty-content").removeClass("non-empty-homepage").addClass("mobile-empty-homepage"),a("#widget-container ul li.empty .empty-content").find(".drag-widget").text("Log in using a desktop client to add widgets to this pinboard.").show(),a("#widget-container ul li.empty").css("border","none")):(a("#widget-container ul li.empty .empty-content").find(".drag-widget").hide(),a("#widget-container ul li.empty .empty-content").removeClass("non-empty-homepage").addClass("empty-homepage"))),"dashboard"!=t){const e=this;this.enableSorting(),this.setListMinimumHeight(),a(".pinBoardDbrd").each((function(){const t=e._getDashboardInstance(this.id),i=window[e.embedOptions.onResize];i instanceof Function&&i.call(e,t),e.embedOptions.onResize instanceof Function&&e.embedOptions.onResize.call(e,t),t.resizeDashboard()}))}}setListMinimumHeight(){const e=[];a("#widget-container > ul").each((function(t){let i=0;a(this).find("li").each((function(){i=i+a(this).innerHeight()+20})),e[`${t}`]=i}));const t=Math.max(...e)>400?Math.max(...e):440;a("#widget-container > ul").css("min-height",t),a("#server-app-container").height(a("#content-area").height())}enableSorting(){"function"!=typeof window.bbEmbed.uniqueSort&&(window.bbEmbed.uniqueSort=window.bbEmbed.unique);const e=this;window.bbEmbed("#column-1, #column-2, #column-3").sortable({connectWith:"ul",placeholder:"placeholder",handle:".e-rteItem .e-rte-content, .bbi-dbrd-control-header:not(.bbi-dbrd-control-menu-icon)",cancel:".empty, .bbi-dbrd-control-menu-icon",containment:"#server-app-container",cursor:"move",tolerance:"pointer",scroll:!0,scrollSensitivity:10,scrollSpeed:20,update:function(t,i){e.toColumn=a(t.target).data("column-id"),e.toPosition=i.item.index()+1},start:function(t,i){a("li.placeholder").append('<div class="placeholder-text" style="color: dimgray; font-size: 20px;padding-top: 10px;text-align: center;font-family:var(--font-family)">Drag your widgets here to customize layout</div>'),a("li.placeholder").css({height:i.item.height().toString()+"px","background-color":"#eeeeee",border:"dashed lightgray"}),a("#widget-container ul li.empty").remove(),e.fromColumn=a(t.target).data("column-id"),e.fromPosition=i.item.index()+1,e.toColumn=a(t.target).data("column-id"),e.toPosition=i.item.index()+1;const s=a("#"+i.item.find(".pinWidget").attr("id")+"_embeddedbi").data("BoldBIDashboardDesigner"),n=window[e.embedOptions.onDrag];n instanceof Function&&n.call(this,s),e.embedOptions.onDrag instanceof Function&&e.embedOptions.onDrag.call(e,s)},stop:function(t,i){e.showEmptyList();const s=window[e.embedOptions.onDrop],n=a("#"+i.item.find(".pinWidget").attr("id")+"_embeddedbi").data("BoldBIDashboardDesigner");s instanceof Function&&s.call(this,n),e.embedOptions.onDrop instanceof Function&&e.embedOptions.onDrop.call(e,n),e.fromColumn==e.toColumn&&e.fromPosition==e.toPosition||(e.fromColumn!=e.toColumn&&window.bbEmbed("#"+i.item.find(".pinWidget").attr("id")+"_embeddedbi").data("BoldBIDashboardDesigner").resizeDashboard(),e.dragAndDrop(e.fromColumn,e.toColumn,e.fromPosition,e.toPosition)),e.setListMinimumHeight()}}),window.bbEmbed("#column-1, #column-2, #column-3").disableSelection()}showEmptyList(){a("#widget-container ul").each((function(e){a("#column-"+(e+1)+" li").length<1&&a("#column-"+(e+1)).append('<li class="empty click-container"><div class="empty-content empty-homepage"><span class="drag-widget" style="font-family:var(--font-family)">Drag your widgets here to customize layout</span></div></li>')}))}dragAndDrop(e,t,i,s){const n=this;let o;const d=a("#widget-container").attr("data-homepage-id"),r={Column:e,Position:i},l={Column:t,Position:s},h="embed_nonce="+this._uuidv4Generartor()+"&homepageId="+d+"&moveFrom="+JSON.stringify(r)+"&moveTo="+JSON.stringify(l)+"&embed_mode="+this.embedOptions.mode+"&embed_timestamp="+Math.round((new Date).getTime()/1e3)+"&embed_expirationtime="+this.embedOptions.expirationTime;if(n.embedOptions.token||n._isEmptyOrSpaces(n.embedOptions.authorizationServer.url)){var m=this._validatetoken(n.embedOptions.token);o={homepageId:d,moveFrom:JSON.stringify(r),moveTo:JSON.stringify(l)},a.ajax({async:!1,type:"POST",url:n.dashboardServerApiUrl+this.embedGetDetailsEndPoint,data:JSON.stringify(o),headers:{Authorization:m},contentType:"application/json",success:a.proxy(n._dragAndDropSuccess,n)})}else o={embedQuerString:encodeURI(h),dashboardServerApiUrl:this.dashboardServerApiUrl},this._xhrRequestHelper("POST",this.embedOptions.authorizationServer.url,o,this.embedOptions.authorizationServer.headers,this._dragAndDropSuccess)}_unPinItem(e,t){const i=this;let s;const n=a("#widget-container").attr("data-homepage-id"),o={Column:e,Position:t},d="embed_nonce="+this._uuidv4Generartor()+"&homepageId="+n+"&unpinPosition="+JSON.stringify(o)+"&isUnpin="+!0+"&embed_mode="+this.embedOptions.mode+"&embed_timestamp="+Math.round((new Date).getTime()/1e3)+"&embed_expirationtime="+this.embedOptions.expirationTime;if(i.embedOptions.token||i._isEmptyOrSpaces(i.embedOptions.authorizationServer.url)){var r=this._validatetoken(i.embedOptions.token);s={homepageId:n,unpinPosition:JSON.stringify(o),isUnpin:!0},a.ajax({async:!1,type:"POST",url:i.dashboardServerApiUrl+this.embedGetDetailsEndPoint,headers:{Authorization:r},data:JSON.stringify(s),contentType:"application/json",success:a.proxy(i._unPinSuccess,i)})}else s={embedQuerString:encodeURI(d),dashboardServerApiUrl:this.dashboardServerApiUrl},this._xhrRequestHelper("POST",this.embedOptions.authorizationServer.url,s,this.embedOptions.authorizationServer.headers,this._unPinSuccess)}_unPinSuccess(e){e.Status&&(a("#column-"+this.column+" li:eq("+(this.position-1)+")").remove(),this.showEmptyList(),this.checkEmptyHomepage()&&(a("#widget-container ul li.empty .empty-content").find(".drag-widget").hide(),a("#widget-container ul li.empty .empty-content").removeClass("non-empty-homepage").addClass("empty-homepage")),this.setListMinimumHeight())}checkEmptyHomepage(){let e=0,t=!1;return a("#widget-container ul").each((function(i){return e=a("#column-"+(i+1)+' li:not(".empty")').length,t=!(e>0),!(e>0)})),t}_renderItem(e){const t=this;if(this._checkEmptyHomepage()&&(a("#widget-container ul li.empty .empty-content").find(".drag-widget").hide(),a("#widget-container ul li.empty .empty-content").removeClass("non-empty-homepage").addClass("empty-homepage")),a("#widget-container").hide(),"widget"==e.ItemType.toLowerCase()){this._setLayout(e.ColumnInfo.Layout);const i=e.ColumnInfo.Column;a.each(i,(function(e){i[`${e}`].Item.length>0?(a.each(i[`${e}`].Item,(function(s){if(".sydj"!=i[`${e}`].Item[`${s}`].ItemExtension.toLowerCase())a("#widget_"+(e+1)+"_"+(s+1)).ejDashboardViewer({accessToken:this.accessToken,serviceUrl:this.dashboardServiceUrl,serverUrl:this.dashboardServerUrl,_enableHyperLinkOnErrorMessage:!1,cdnFilePath:this.isUseCdn?this.cdnLink+"/scripts/viewer":"",dashboardPath:i[`${e}`].Item[`${s}`].Path,_itemId:i[`${e}`].Item[`${s}`].ItemId,reportName:"",reportDescription:"",enableExport:!0,enablePrint:!1,actionBegin:function(e){"beforeNavigate"==e.eventType&&(this.hasWidgetLink=!0)},localeSettings:{resourcePath:""},enableWidgetMode:null!=i[`${e}`].Item[`${s}`].Id,filterParameters:i[`${e}`].Item[`${s}`].QueryString,showTab:null==i[`${e}`].Item[`${s}`].TabId,widgetModeSettings:{name:"",id:null==i[`${e}`].Item[`${s}`].Id?"":i[`${e}`].Item[`${s}`].Id,title:i[`${e}`].Item[`${s}`].Name},_selectedTabGuid:null==i[`${e}`].Item[`${s}`].TabId?"":i[`${e}`].Item[`${s}`].TabId,afterWidgetRender:a.proxy((function(t,i){if("card"==i.data.controlType.toLowerCase()&&(a("#widget_"+(e+1)+"_"+(s+1)+" .e-control-heading span").hasClass("e-control-title")||a("#widget_"+(e+1)+"_"+(s+1)+" .e-control-heading").text(t[`${e}`].Item[`${s}`].Name)),t[`${e}`].Item[`${s}`].IsActive&&!t[`${e}`].Item[`${s}`].IsHavingPermission?(a("#widget_"+(e+1)+"_"+(s+1)).find(".bbi-dbrd-control").remove(),a("#widget_"+(e+1)+"_"+(s+1)).find(".bbi-dbrd-control-container").append('<div class="no-permission"><span class="message">You do not have permission to view this widget.</span></div>')):t[`${e}`].Item[`${s}`].IsActive||t[`${e}`].Item[`${s}`].IsHavingPermission||(a("#widget_"+(e+1)+"_"+(s+1)).find(".bbi-dbrd-control").remove(),a("#widget_"+(e+1)+"_"+(s+1)).find(".bbi-dbrd-control-container").append('<div class="no-permission"><span class="message">This widget has been deleted.</span></div>')),t[`${e}`].Item[`${s}`].IsActive&&t[`${e}`].Item[`${s}`].IsHavingPermission&&null!=t[`${e}`].Item[`${s}`].QueryString){const t=a("#widget_"+(e+1)+"_"+(s+1));t.find("#filter-info").parent().append('<div class="filter-overview"><span id="heading">Applied Filters</span><div id="outer-div"><div id="scroller-content"><div id="applied-filters-container"></div></div></div></div>'),t.find(".filter-overview #applied-filters-container").height()>180&&t.find(".filter-overview #scroller-content").BoldBIDashboardScroller({height:180,width:248,scrollerSize:9}),t.find(".filter-overview").addClass("display-none")}}),this,i),beforeWidgetIconRendered:a.proxy((function(t,i){"widget not configured"!=i.widgetInformation.Name.toLowerCase()?window.IsMobile?a("#widget_"+(e+1)+"_"+(s+1)).data("ejDashboardViewer").model.size.height="250px":"card"!=i.widgetInformation.Name.toLowerCase()?a("#widget_"+(e+1)+"_"+(s+1)).data("ejDashboardViewer").model.size.height="400px":a("#widget_"+(e+1)+"_"+(s+1)).data("ejDashboardViewer").model.size.height="250px":(a("#widget_"+(e+1)+"_"+(s+1)).data("ejDashboardViewer").model.size.height="200px",a("#widget_"+(e+1)+"_"+(s+1)).find(".bbi-dbrd-control-container").append('<div class="no-permission"><span class="message">This widget has been deleted.</span></div>')),i.iconsinformation.length>0&&"bbi-dbrd-link-enable"==i.iconsinformation[0].classname&&(i.iconsinformation[0].margintop="1px"),window.IsMobile||i.iconsinformation.unshift({classname:"su su-delete unpin",name:"Unpin Widget",datatooltip:"Unpin Widget",marginright:"-18px",margintop:"4px"});const n=t[`${e}`].Item[`${s}`].IsActive&&t[`${e}`].Item[`${s}`].IsHavingPermission&&"widget not configured"!=i.widgetInformation.Name.toLowerCase();n&&(i.iconsinformation.unshift({classname:"su su-maximize unpin",name:"Maximize Widget",datatooltip:"Maximize Widget",marginright:"-18px",margintop:"4px"}),i.iconsinformation.unshift({classname:"su su-open-link-newtab unpin",name:"Go to Dashboard",datatooltip:"Go to Dashboard",marginright:"-18px",margintop:"4px"})),n&&null!=t[`${e}`].Item[`${s}`].QueryString&&i.iconsinformation.unshift({id:"filter-info",classname:"su su-info unpin",name:"Applied Filters",datatooltip:"View Applied Filters",margintop:"4px",marginright:"0px"}),a("#widget-container").show(),a("#widget_"+(e+1)+"_"+(s+1)).ejDashboardViewer().resize()}),this,i),dashboardCreated:function(){const t=a("#widget_"+(e+1)+"_"+(s+1)).attr("data-dashboardurl");a("#widget_"+(e+1)+"_"+(s+1)).find(".su-open-link-newtab").wrap(a('<a class="redirect" href="'+t+'" target="_blank">'))},onMenuIconClick:function(e){if(void 0!==e.name&&"unpin widget"==e.name.toLowerCase()){const t=e.target.parents("ul").data("column-id"),i=e.target.parents("li").index()+1;this.unPinItem(t,i,e.event)}else if(void 0!==e.name&&"maximize widget"==e.name.toLowerCase());else if(void 0!==e.name&&"applied filters"==e.name.toLowerCase()){const t=a(e.event.target).parent().find(".filter-overview");t.toggleClass("display-none"),a(".filter-overview").not(t).addClass("display-none"),e.event.preventDefault()}}});else{const n=t.embedOptions.embedContainerId+"_pinBoard_"+(e+1)+"_"+(s+1);a("#widget_"+(e+1)+"_"+(s+1)).append('<div class="pinWidget" style="height:calc(100% - 5px);width:93%;overflow: hidden !important;" id="'+n+'"><div id="'+n+'_embeddedbi" class="pinBoardDbrd"></div ></div>'),t.pinBoardRendered=!1,t.pinboardIds.push({widgetId:i[`${e}`].Item[`${s}`].Id,pinboardContainerId:n}),t.pinboardDetails[t.pinboardDetails.length]=t.embedOptions.token?i[`${e}`].Item[`${s}`]:i[`${e}`].Item[`${s}`].WidgetDetails,i[`${e}`].Item[`${s}`].IsActive&&!i[`${e}`].Item[`${s}`].IsHavingPermission?(a("#widget_"+(e+1)+"_"+(s+1)).find("iframe").remove(),a("#widget_"+(e+1)+"_"+(s+1)).append('<div class="no-permission"><span class="message">You do not have permission to view this widget.</span></div>')):i[`${e}`].Item[`${s}`].IsActive||i[`${e}`].Item[`${s}`].IsHavingPermission||(a("#widget_"+(e+1)+"_"+(s+1)).find("iframe").remove(),a("#widget_"+(e+1)+"_"+(s+1)).append('<div class="no-permission"><span class="message">This widget has been deleted.</span></div>'))}})),a("#widget-container").show()):a("#widget-container").show()})),this.enableSorting(),this.setListMinimumHeight()}else if("dashboard"==e.ItemType.toLowerCase()){const t=e.ColumnInfo.Column;a("#dashboard_1_1").css({height:a(window).height()-a("#header-area").outerHeight()-a("#base-footer-div").outerHeight()-a("#homepage-header").outerHeight()-30,width:a("#content-area").width()-10}),t[0].Item[0].IsActive&&t[0].Item[0].IsHavingPermission&&".sydj"!=t[0].Item[0].ItemExtension.toLowerCase()?a("#dashboard_1_1").ejDashboardViewer({dashboardPath:e.ColumnInfo.Column[0].Item[0].Path,_itemId:e.ColumnInfo.Column[0].Item[0].ItemId,reportName:"",reportDescription:"",enableExport:!0,enablePrint:!1,showGetLinkIcon:!1,localeSettings:{resourcePath:""},interactionSettings:{allowHistoryMaintenance:!1,handleHistoryEvent:!1},enableWidgetMode:!1,filterParameters:e.ColumnInfo.Column[0].Item[0].QueryString,showTab:null==e.ColumnInfo.Column[0].Item[0].TabId,_selectedTabGuid:null!=e.ColumnInfo.Column[0].Item[0].TabId?e.ColumnInfo.Column[0].Item[0].TabId:"",beforeControlMenuOpen:function(e){e.menuData.splice(1,1)},onTabSelectionFailure:"OnFailtoLoadChildDashboard",beforeContextMenuOpen:function(e){!function(e,t,i){let s=e.length;for(;s--;)e[`${s}`]&&Object.prototype.hasOwnProperty.call(e[`${s}`],t)&&arguments.length>2&&e[`${s}`][`${t}`]==i&&e.splice(s,1)}(e.menuData,"text","Export")}}):t[0].Item[0].IsActive?t[0].Item[0].IsActive&&!t[0].Item[0].IsHavingPermission?a("#dashboard_1_1").append('<div class="no-permission"><span class="message">You do not have permission to view this dashboard.</span></div>'):t[0].Item[0].IsActive&&t[0].Item[0].IsHavingPermission&&".sydj"==t[0].Item[0].ItemExtension.toLowerCase()&&a("#dashboard_1_1").append('<div class="no-permission"><span class="message">Currently this dashboard is not supported.</span></div>'):a("#dashboard_1_1").append('<div class="no-permission"><span class="message">This dashboard has been deleted.</span></div>'),a("#widget-container").show()}}_addWidgetInPinboard(e){const t=a("#widget-container").find("ul:first");1==a("#widget-container").find("ul:first li").length&&a("#widget-container").find("ul:first li").hasClass("empty")&&a("#widget-container").find("ul:first li").remove();const i=a("#widget-container").find("ul:first li").length,s=e.ColumnInfo.Column[0],n=null==s.Item[0].Id?"/bi/"+this.siteIdentifier+"/widgets/widgets":"/bi/"+this.siteIdentifier+"/dashboards",o=s.Item[0].Name,d=s.Item[0].WidgetType;let r=0;r=null!=d&&(d.includes("Card")||d.includes("Image"))?250:400;const l=null!=s.Item[0].QueryString?s.Item[0].QueryString:"",h=null==s.Item[0].TabId?n+"/"+s.Item[0].ItemId+"/"+(null!=s.Item[0].Id?s.Item[0].CategoryName+"/":"")+s.Item[0].ItemName+(""!=l?"?"+l:l):n+"/"+s.Item[0].ItemId+"/"+(null!=s.Item[0].Id?s.Item[0].CategoryName+"/":"")+s.Item[0].ItemName+"?tab="+s.Item[0].TabId+(""!=l?"&"+l:l),m=this.embedOptions.pinboardSettings.enableUnpinWidget||void 0===this.embedOptions.pinboardSettings.enableUnpinWidget?'<div id="widget-icons"><i class="items unpin-widget su su-delete" data-bs-toggle="tooltip" data-original-title="Unpin Widget"  style="color: black;" /></div>':"";a(t).prepend('<li class="list-item"><div class="widget" id=widget_1_'+(i+1)+' data-dashboardurl="'+h+'" style="height: '+r+'px;width:100%;background:#fff;"><div class="widget-sortable" style="width:100%;float:left;display:block;height:0px"><div style="height:100%;width:100%;cursor:move;"><div id="item-name">'+o+"</div>"+m+"</div></div></div></li>");const b=this.embedOptions.embedContainerId+"_pinBoard_1_"+(i+1);a("#widget_1_"+(i+1)).append('<div class="pinWidget" style="height:calc(100% - 5px);width:93%;overflow: hidden !important;" id="'+b+'"><div id="'+b+'_embeddedbi" class="pinBoardDbrd"></div ></div>'),this.pinBoardRendered=!1,this.pinboardIds.push({widgetId:s.Item[0].Id,pinboardContainerId:b}),this.loadDashboardWidget(s.Item[0].Id,s.Item[0].ItemId),this.enableSorting(),this.setListMinimumHeight(),this._removeElementsClass(this.embedOptions.embedContainerId,".preloader-wrap","viewer-blue-loader")}_tabSelected(){if("undefined"!=typeof ejdashboard&&ejdashboard.base&&"function"==typeof ejdashboard.base.registerLicense){const e=window.bbEmbed(".parent-multitab-dbrd").children().attr("id");for(let t=0;t<window.bbEmbed("#"+e+" .e-toolbar-item").length;t++)window.bbEmbed(".e-content").find("#e-content-"+e+"_"+t).attr("style","display:block !important"),window.bbEmbed("#"+e+" .e-toolbar-item.e-active").children().attr("aria-controls")=="e-content-"+e+"_"+t?this._handleTabSelected(e,t):window.bbEmbed(window.bbEmbed(".e-content").find("#e-content-"+e+"_"+t).children()).css({display:"block",position:"absolute",left:window.bbEmbed(".e-content.e-lib.e-touch").width()*(t+1)})}else{const e=window.bbEmbed(".multitab-dbrd").attr("id");for(let t=0;t<window.bbEmbed("#"+e+" .e-toolbar-item").length;t++)window.bbEmbed(".e-content").find("#e-content-"+e+"_"+t).attr("style","display:block !important"),window.bbEmbed("#"+e+" .e-toolbar-item.e-active").attr("aria-controls")=="e-content-"+e+"_"+t?this._handleTabSelected(e,t):window.bbEmbed(window.bbEmbed(".e-content").find("#e-content-"+e+"_"+t).children()).css({display:"block",position:"absolute",left:window.bbEmbed(".e-content.e-lib.e-touch").width()*(t+1)})}}_handleTabSelected(e,t){window.bbEmbed(window.bbEmbed(".e-content").find("#e-content-"+e+"_"+t).children()).css({display:"block",position:"absolute",left:0});const i=window.bbEmbed("#"+window.bbEmbed(window.bbEmbed(".e-content").find("#e-content-"+e+"_"+t).children()).children().attr("id")).data("BoldBIDashboardDesigner");if(null==i||null==i){const i=window.bbEmbed(".e-content").find("#e-content-"+e+"_"+t).children().attr("id").split("_")[1],s={Apistatus:!0,Data:this.dashboardDetails[`${i}`],Status:!0};this._renderDashboard(s)}}_isDependencyLoaded(e,t){if(window.bbEmbed instanceof Function&&window.BoldBIDashboard instanceof Object&&!e._isNullOrUndefined(window.BoldBIDashboard)&&window.BoldBIDashboard.Designer instanceof Object&&window.BoldBIDashboardDesigner instanceof Function&&!e._isEmptyOrSpaces(e.designerRootUrl)&&window.Designer instanceof Object)if(e.IsDependencyLoaded||(e.IsDependencyLoaded=!0),e.embedOptions.token&&!e.embedOptions.isPublicDashboard){var i=e._validatetoken(e.embedOptions.token);if(e.embedOptions.dashboardPath&&!e.embedOptions.dashboardId)e._throwError(s.errorMessages.DbrdPathTokenAPIError);else if(e.embedOptions.datasourceName&&!e.embedOptions.datasourceId)e._throwError(s.errorMessages.DataSourceTokenAPIError);else if(e.embedOptions.viewName&&!e.embedOptions.viewId)e._throwError(s.errorMessages.ViewNameTokenAPIError);else if(e.isDashboardRendering&&e.embedOptions.dashboardId||e.isPinboardRendering&&e.embedOptions.pinboardName){const t=e.isDashboardRendering?e.dashboardServerApiUrl+"/v5.0/dashboards/"+e.embedOptions.dashboardId+"?canIgnorePublishDetails=true":e.dashboardServerApiUrl+"/pinboard/"+e.embedOptions.pinboardName;a.ajax({async:!1,type:"GET",url:t,headers:{Authorization:i},contentType:"application/json",success:function(t){e.tokenResponse.dashboardVersion=t.Version;const i=e.isDashboardRendering&&t.IsMultiDashboard&&e.embedOptions.mode==r.Mode.Design?"Designer embedding":e.isDashboardRendering&&t.IsMultiDashboard?t.TabDetail:e.isPinboardRendering&&t.Status?t.Data:e.tokenResponse;"Designer embedding"!=i?e._renderDashboard({Apistatus:!0,Data:i,Status:!0}):e._throwError(s.errorMessages.NotRenderMultitabDashboard)},error:function(t){if(0==t.status&&e._throwError(s.errorMessages.PageUnavailable),401==t.status){const t=e._isJwtFormat(e.embedOptions.token);e._throwError(t?s.errorMessages.InvalidAccessToken:s.errorMessages.InvalidApiKey)}else 404==t.status&&e.isDashboardRendering?e._throwError(s.errorMessages.InvalidDashboardID):e._throwError(s.errorMessages.InvalidPinboardName)}})}else e.isDashboardRendering&&e.embedOptions.mode==r.Mode.Design&&e._isEmptyOrSpaces(e.embedOptions.dashboardId)&&e._isEmptyOrSpaces(e.embedOptions.dashboardPath)?a.ajax({async:!1,type:"POST",url:e.dashboardServerApiUrl+"/v5.0/dashboards/drafts",headers:{Authorization:i},contentType:"application/json",success:function(t){e.embedOptions.isdesignerdraft=!0,e.tokenResponse.draftItemID=t.Id,e.tokenResponse.ItemDetail.Name=t.Name,e._renderDashboard({Apistatus:!0,Data:e.tokenResponse,Status:!0})},error:function(t){if(401==t.status){const t=e._isJwtFormat(e.embedOptions.token);e._throwError(t?s.errorMessages.InvalidAccessToken:s.errorMessages.InvalidApiKey)}else 403==t.status&&e._throwError(s.errorMessages.ProvideCreatePermission)}}):e.embedOptions.viewId&&e.isDashboardViewRendering?a.ajax({async:!1,type:"GET",url:e.dashboardServerApiUrl+"/v5.0/dashboards/views/"+e.embedOptions.viewId,headers:{Authorization:i},contentType:"application/json",success:function(t){e.embedOptions.dashboardSettings=e.embedOptions.dashboardSettings||{},e.embedOptions.dashboardSettings.filterOverviewSettings=e.embedOptions.dashboardSettings.filterOverviewSettings||{},e.embedOptions.dashboardId=t.ItemId,e.embedOptions.dashboardSettings.filterOverviewSettings.viewId=e.embedOptions.viewId,e.embedOptions.dashboardSettings.filterOverviewSettings.viewName=t.ViewName,e.embedOptions.filterParameters=t.QueryString,e._renderDashboard({Apistatus:!0,Data:e.tokenResponse,Status:!0})},error:function(t){if(401==t.status){const t=e._isJwtFormat(e.embedOptions.token);e._throwError(t?s.errorMessages.InvalidAccessToken:s.errorMessages.InvalidApiKey)}else 400==t.status?e._throwError(s.errorMessages.InvalidViewID):404==t.status&&e._throwError(s.errorMessages.ViewDetailsNotFound)}}):e.widgetName?/^(?:\{{0,1}(?:[0-9a-fA-F]){8}-(?:[0-9a-fA-F]){4}-(?:[0-9a-fA-F]){4}-(?:[0-9a-fA-F]){4}-(?:[0-9a-fA-F]){12}\}{0,1})$/.exec(e.widgetName)?e._renderDashboard({Apistatus:!0,Data:e.tokenResponse,Status:!0}):e._throwError(s.errorMessages.WidgetNameTokenAPIError):e._renderDashboard({Apistatus:!0,Data:e.tokenResponse,Status:!0})}else e.embedOptions.token&&e.embedOptions.isPublicDashboard?(e.tokenResponse={dashboardVersion:e.embedOptions.customDashboardVersion,ItemDetail:{IsPublic:!0,Description:"",Name:""}},e._renderDashboard({Apistatus:!0,Data:e.tokenResponse,Status:!0})):e._getAuthorizationToken(t);else setTimeout(e._isDependencyLoaded,500,e)}validateServerAndWrapperVersion(){const e=this;e.embedOptions.environment==r.Environment.Enterprise?a.ajax({async:!0,type:"POST",url:e.dashboardServerApiUrl+"/server-version/get",contentType:"application/json",success:function(t){console.log(e.embedSDKWrapperVersion===t.Data.split(".").slice(0,2).join(".")?s.successMessages.MatchVersion:s.errorMessages.NotMatchVersion)}}):console.log(s.errorMessages.EnsureServerOrSDKVersion)}_getDashboardInstance(e){const t=window.bbEmbed.call(this,"#"+(e||this.childContainer.id))[0];if(t)return window.bbEmbed.data.call(this,t,"BoldBIDashboardDesigner")}_checkWidgetList(){if(this.embedOptions.widgetList.length>0&&!this.embedOptions.embedContainerId){const e=s.errorMessages.ErrorLoadMultipleWidget;return this.embedOptions.widgetList.forEach((t=>{const i=t.containerId,s='<div id="embedded-bi-error" style="display:table;height:100%;width:100%;"><div style="display: table-cell;vertical-align: middle;text-align: center;"><div style="display: inline-block;"><img src='+this.errorImage+' style="float: left"/><div style="float: left;margin-left: 10px;line-height: 20px;">BoldBI Embedded: '+e+"</div></div>";document.getElementById(i).innerHTML=s})),!0}return this.embedOptions.widgetList="",!1}_onBoldBIDashboardInstaceActionBegin(e,t){if(this.isMultiTab&&0==parseInt(a(".e-content .e-active").attr("id").split("_")[a(".e-content .e-active").attr("id").split("_").length-1],10)){const e=a(".e-content .e-active").find(".bbembed-multitab-dbrd").data("BoldBIDashboardDesigner");this.setDefaultTheme(e.modules.themeHelper.getBannerBackground(),e.modules.themeHelper.getBannerTextColor(),e.modules.themeHelper.getBannerIconColor())}if(void 0!==e&&"renderLayout"===e.eventType&&this._removeElementsClass(t,".preloader-wrap","viewer-blue-loader"),(this.embedOptions.mode==r.Mode.Connection||this.embedOptions.mode==r.Mode.Design)&&!document.querySelector('style[data-id="hideRefreshSettingsButton"]')){const e=document.createElement("style");e.type="text/css",e.setAttribute("data-id","hideRefreshSettingsButton");const t=".bbi-dbrd-datasource-schedule { display: none !important }";e.appendChild(document.createTextNode(t)),document.head.appendChild(e)}const i=window[this.actionBeginFn];i instanceof Function&&i.call(this,e);const s=window[this.embedOptions.actionBegin];if(s instanceof Function&&s.call(this,e),this.embedOptions.actionBegin instanceof Function&&this.embedOptions.actionBegin.call(this,e),"dataSourceSaveAction"==e.eventType&&this._onBoldBIBeforeDatasourceSaveAction(e),"filterInteraction"==e.eventType){const t=window[this.embedOptions.beforeFilterApply];t instanceof Function&&t.call(this,e),this.embedOptions.beforeFilterApply instanceof Function&&this.embedOptions.beforeFilterApply.call(this,e)}if("publishAsAction"==e.eventType){const t=window[this.embedOptions.dashboardSettings.beforePublishAs];t instanceof Function&&t.call(this,e),this.embedOptions.dashboardSettings.beforePublishAs instanceof Function&&this.embedOptions.dashboardSettings.beforePublishAs.call(this,e)}}_onBoldBIDashboardInstaceActionComplete(e){const t=this;let i;const s=window[this.actionCompleteFn];if(this._isNullOrUndefined(e.data)||("createConnection"==e.data.event&&(this.embedOptions.datasourceId=e.data.source.data,this.embedOptions.mode=r.Mode.DataSource,this.isNewConnection=!0,t.embedOptions.token?t._renderDashboard({Apistatus:!0,Data:this.tokenResponse,Status:!0}):t._isEmptyOrSpaces(t.embedOptions.authorizationServer.url)?(i={embed_datasource_id:t.embedOptions.datasourceId,embed_mode:t.embedOptions.mode},a.ajax({async:!1,type:"POST",url:t.dashboardServerApiUrl+this.embedGetDetailsEndPoint,headers:{Authorization:"Bearer "+t.accessToken},data:JSON.stringify(i),contentType:"application/json",success:a.proxy(t._renderDashboard,t)})):this._getAuthorizationToken()),"cancelDataSource"==e.data.event&&(this.embedOptions.mode=r.Mode.Connection,t.embedOptions.token?t._renderDashboard({Apistatus:!0,Data:this.tokenResponse,Status:!0}):t._isEmptyOrSpaces(t.embedOptions.authorizationServer.url)?(i={embed_mode:t.embedOptions.mode},a.ajax({async:!1,type:"POST",url:t.dashboardServerApiUrl+this.embedGetDetailsEndPoint,headers:{Authorization:"Bearer "+t.accessToken},data:JSON.stringify(i),contentType:"application/json",success:a.proxy(t._renderDashboard,t)})):this._getAuthorizationToken())),this.pinboardIds.length>0&&"renderWidget"===e.eventType&&(0===e.source.element.find(".bbi-dbrd-control-header .bbi-dbrd-control-title-wrapper").length?(e.source.element.parents(".widget").find("#widget-icons").css("margin-top","8px"),e.source.element.attr("data-name").toLowerCase().includes("card")&&e.source.element.find(".bbi-dbrd-control").css("top","20px")):(e.source.element.find(".bbi-dbrd-control-header").css("margin-left","-8px"),e.source.element.find(".bbi-dbrd-control-title-wrapper").css("margin-left","8px"))),"interactionCompleted"==e.eventType){i={filterData:this._getFilterData(e.source.data.encryptedData),data:e};const t=window[this.embedOptions.dashboardSettings.onInteraction];t instanceof Function&&t.call(this,i),this.embedOptions.dashboardSettings.onInteraction instanceof Function&&this.embedOptions.dashboardSettings.onInteraction.call(this,e)}else{s instanceof Function&&s.call(this,e);const t=window[this.embedOptions.actionComplete];t instanceof Function&&t.call(this,e),this.embedOptions.actionComplete instanceof Function&&this.embedOptions.actionComplete.call(this,e)}if("filterInteraction"==e.eventType){const t=window[this.embedOptions.afterFilterApply];t instanceof Function&&t.call(this,e),this.embedOptions.afterFilterApply instanceof Function&&this.embedOptions.afterFilterApply.call(this,e)}"dataSourceSaveAction"==e.eventType&&JSON.parse(e.schema.schema).length>0&&this._onBoldBIAfterDatasourceSaveAction(e)}_onBoldBIBeforeDatasourceSaveAction(e){const t=window[this.embedOptions.beforeDatasourceSave];t instanceof Function&&t.call(this,e),this.embedOptions.beforeDatasourceSave instanceof Function&&this.embedOptions.beforeDatasourceSave.call(this,e)}_onBoldBIAfterDatasourceSaveAction(e){const t=window[this.embedOptions.afterDatasourceSave];t instanceof Function&&t.call(this,e),this.embedOptions.afterDatasourceSave instanceof Function&&this.embedOptions.afterDatasourceSave.call(this,e)}_onBoldBIDashboardBeforeBannerIconRender(e){var t=!1,i=!1;if(e.iconsinformation.find((e=>"Summarize"===e.groupId))){var s=e.iconsinformation.shift();i=!0}const n=e.iconsinformation.shift();if(e.iconsinformation.find((e=>"translatorgroup"===e.groupId))){var o=e.iconsinformation.shift();t=!0}const d=e.iconsinformation.shift(),r=e.iconsinformation.shift();if((0==this.embedOptions.dashboardSettings.showMoreOption||0==this.embedOptions.dashboardSettings.showExport&&0==this.embedOptions.dashboardSettings.showMetrics||0==this.embedOptions.exportSettings.showExcel&&0==this.embedOptions.exportSettings.showImage&&0==this.embedOptions.exportSettings.showPDF&&0==this.embedOptions.exportSettings.showCSV&&0==this.embedOptions.dashboardSettings.showMetrics)&&(e.iconsinformation=this._arraySlice(e.iconsinformation,"groupName","Option")),0==this.embedOptions.dashboardSettings.showDashboardParameter)for(let e=d.items.length-1;e>=0;e--)this._isNullOrUndefined(d.items[`${e}`])||"dashboardparameters"!=d.items[`${e}`][0].dataset.name||d.items.splice(e,1);0==this.embedOptions.dashboardSettings.showRefresh&&r.items.splice(0,1);const l=window[this.beforeBannerIconRenderFn];if(this.embedOptions.dashboardSettings.enableFullScreen){const t={groupId:"refresh-fullscreen",groupName:"Refresh & FullScreen",enableGroupSeperator:!0,items:[this._createBannerIcon("<div/>","dashboard-refresh","e-dbrd-banner-refresh","Refresh","refreshdashboard",!0,!1,{display:"none","font-size":"14px"}),this._createBannerIcon("<div/>","dashboard-fullscreen",this.isFullscreen?"su su-minimize":"su su-maximize-1","Fullscreen","fullscreen",!0,!1,{"font-size":"14px"})]};e.iconsinformation.unshift(t)}r.items.length>0&&(e.iconsinformation.unshift(r),e.iconsinformation[0].enableGroupSeperator=!this.embedOptions.dashboardSettings.enableFullScreen),d.items.length>0&&e.iconsinformation.unshift(d),t&&e.iconsinformation.unshift(o),n.items.length>0&&e.iconsinformation.unshift(n),i&&e.iconsinformation.unshift(s),l instanceof Function&&l.call(this,e);const h=window[this.embedOptions.dashboardSettings.beforeIconRender];h instanceof Function&&h.call(this,e),this.embedOptions.dashboardSettings.beforeIconRender instanceof Function&&this.embedOptions.dashboardSettings.beforeIconRender.call(this,e),[...document.head.querySelectorAll("style")].some((e=>e.innerHTML.includes("#dashboard-refresh { display: none !important")))||a('<style type="text/css"> #dashboard-refresh { display: none !important} </style>').appendTo("head");const m=document.querySelectorAll("script"),b=Array.from(m).filter((e=>e.src.includes("cultures/boldbi.cultures.min.js")));b.length>1&&b.slice(1).forEach((e=>{var t;null===(t=e.parentElement)||void 0===t||t.removeChild(e)}))}_createBannerIcon(e,t,i,s,n,o,d,r,l){return a(e,d?{id:t,html:a("<span/>",{class:"icon-with-label",text:s,css:{"font-family":"Roboto",padding:"10px"}}),class:"server-banner-icon e-dashboard-banner-icon bbi-dbrd-designer-hoverable "+i,"data-name":n,"data-event":o,href:l,css:r}:{id:t,class:"server-banner-icon e-dashboard-banner-icon bbi-dbrd-designer-hoverable "+i,"data-tooltip":s,"data-name":n,"data-event":o,css:r})}_onBoldBIDashboardBeforeOtherOptionContextMenuRender(e){0==this.embedOptions.dashboardSettings.showExport&&(e.iconsinformation=this._arraySlice(e.iconsinformation,"groupName","export"));const t=window[this.beforeOtherRenderFn];t instanceof Function&&t.call(this,e);const i=window[this.embedOptions.beforeContextMenuRender];i instanceof Function&&i.call(this,e),this.embedOptions.beforeContextMenuRender instanceof Function&&this.embedOptions.beforeContextMenuRender.call(this,e)}_onBoldBIDashboardSaveFilter(e){const t=this,i=t.embedOptions.dashboardSettings.beforeSaveViewDialogOpen||t.embedOptions.dashboardSettings.saveFilterClick,n=window[t.beforeSaveViewDialogOpenFn];n instanceof Function&&n.call(t,e);const o=window[`${i}`];if(o instanceof Function&&o.call(t,e),i instanceof Function&&i.call(t,e),!1===e.cancel)if(""==t.embedOptions.dashboardId&&""==t.embedOptions.dashboardIds)console.error(s.errorMessages.EmptyDbrdCreate);else{let i;if(a("body").find("#save_view_dialog_wrapper").remove(),i=t.embedOptions.dashboardIds&&t.embedOptions.dashboardIds.length>0?t.embedOptions.dashboardId=t.getActiveChildDashboardId():t.isMultiTab?t.getActiveChildDashboardId():t.embedOptions.dashboardId,e.viewId){const n={ViewId:e.viewId,DashboardId:i,QueryString:e.data.encryptedData};t.updateFilterView(n,(function(e,t){console.log(t+s.successMessages.UpdateFilterViewMsg+e.ViewId)}))}else t._createSaveViewDialog(e)}}_addSaveViewDialogStyles(){a('<style type="text/css">                     #save_view_dialog_header .su-view { float: left; padding-top: 5px; padding-right: 5px; font-size: 14px; color: var(--primary-text-normal-color); }                     #save_view_dialog_content { font-size: 12px; line-height: 1.4; }                     #save_view_dialog_header #save_view_dialog_header_title { color: var(--primary-text-normal-color);font-family: var(--font-family); font-size: 14px; padding-top: 5px; line-height: 15px; }                     #view_name_left_col { width: 25%; font-family: var(--font-family); font-size: 13px; float: left; text-align: right; margin: 5px 0px; }                     #view_name_right_col { width: 61%; float: left; margin-left: 50px; }                     #view_name_divison {height: 50px}                     #default_view_divison {height: 50px}                     #default_view_left {width: 25%; font-size: 13px; font-family: var(--font-family); float: left; text-align: right; margin: 5px 0px;}                     #default_view_right { width: 61%; float: left; margin-left: 50px; margin-top:5px; margin-bottom:5px}                     #view_name_textbox { width: 100%; border: 1px solid var(--secondary-border-color); padding: 6px 12px; color: var(--primary-text-normal-color); background: var(--primary-background-color); font-size: 12px; }                     #view_name_textbox:focus { border-color: var(--primary-branding-border-color)!important; }                     #cancel_button:hover { background: var(--secondary-btn-bg-hover-color); border: 1px solid var(--secondary-btn-border-normal-color); color: var(--secondary-btn-text-hover-color); }                     #save_button:hover { background: var(--primary-btn-bg-hover-color); border: 1px solid var(--primary-btn-border-normal-color); color: var(--primary-btn-text-hover-color) !important; }                     #save_view_dialog_footer { padding: 10px 15px; border-top: 1px solid var(--secondary-border-color); background: var(--secondary-background-color); }                     #save_view_dialog .e-dlg-closeicon-btn { margin-right: 5px; padding: 5px 0px; width: 15px; height: 20px; }                     #save_view_dialog .e-dlg-closeicon-btn .e-icon-dlg-close { font-size: 10px; color: var(--hyper-link-hover-color); }                     #save_view_dialog .e-dlg-closeicon-btn:hover, #save_view_dialog .e-dlg-closeicon-btn { background: var(--primary-background-color); }                     #save_view_dialog .e-dlg-content { background: var(--primary-background-color); color: var(--primary-text-normal-color); padding-bottom: 25px; }                     #view_name_err_msg { display: none; color: #ff3b30; font-size: 12px; }                     #cancel_button { background: var(--secondary-btn-bg-normal-color); border: 1px solid var(--secondary-btn-border-normal-color); color: var(--secondary-text-normal-color); font-family: var(--font-family); }                     #save_button { margin-right: 15px; background: var(--primary-btn-bg-normal-color); border: 1px solid var(--primary-btn-border-normal-color); color: var(--primary-btn-text-normal-color); font-family: var(--font-family); }                     #save_view_dialog .e-dlg-header-content { padding: 10px 15px; height: 40px; background: var(--primary-background-color); color: var(--primary-text-normal-color); }                     #save_view_dialog { background: var(--primary-background-color); }                     .footer-button-class { border-radius: 4px; display: inline-block; cursor: pointer; font-size: 12px; float: right; font-weight: 600; height: 32px; line-height: 18px; min-width: 90px; outline: 0; text-align: center; padding: 6px 20px; }                     .e-dlg-overlay { position: fixed; }                     .viewname-textbox-error { border: 1px solid #ff3b30 !important; }                     .default_view_switch {position: relative;display: inline-block;width: 28px; /* Width of the switch */height: 16px; /* Height of the switch margin-top: */}                    .default_view_switch input {  display: none;}                    .default_view_slider {position: absolute;cursor: pointer;top: 0;left: 0;right: 0;bottom: 0;background-color: var(--material-switch-background-bg-normal-color); border: 1px solid var(--secondary-btn-border-normal-color); -webkit-transition: .4s;transition: .4s;border-radius: 16px; /* Half of the height for a round shape */}                    .default_view_slider:before { position: absolute; content: ""; height: 9px; /* Height minus border width */width: 9px; /* Height minus border width */top: 3px; /* (Width - Height) / 2 to center it horizontally */ bottom: 3px; /* (Height - Height) / 2 to center it vertically  */left:2px; background-color: var(--material-switch-foreground-bg-normal-color); -webkit-transition: .4s; transition: .4s; border-radius: 50%; }                    .default_view_slider:hover {border: 1px solid var(--hover-icon-color);}                    input:checked + .default_view_slider { background-color: var(--primary-branding-color); border-color:var(--primary-branding-border-color);}                    input:focus + .default_view_slider {  box-shadow: 0 0 0.5px #2196F3;}                    input:checked + .default_view_slider:before {-webkit-transform: translateX(17.5px); /* Half of the width minus half of the height */-ms-transform: translateX(17.5px);transform: translateX(13.5px);background-color: white;}                    #info-icon {padding-left: 15px; cursor: pointer; font-size: 12px;}                     .su-info:before {content: ;}                    .default_view_slider_disable:before { position: absolute; content: ""; height: 9px; /* Height minus border width */width: 9px; /* Height minus border width */top: 3px; /* (Width - Height) / 2 to center it horizontally */ bottom: 3px; /* (Height - Height) / 2 to center it vertically */left:2px;background: var(--material-switch-foreground-bg-disable-color); -webkit-transition: .4s; transition: .4s; border-radius: 50%; }                    .tooltip {position: relative;display: inline-block;}                    .tooltip .tooltiptext {visibility: hidden;font-size: 11.8px;width: 320px;background: var(--primary-background-color);font-family: var(--font-family);color: var(--primary-text-normal-color);text-align: left;border-radius: 6px;padding: 5px;position: absolute;z-index: 1;top:130%;left:270%;margin-left:-60px; opacity: 0;transition: opacity 0.3s; border: 1px solid var(--secondary-border-color); box-shadow: 0 6px 12px rgba(0,0,0,.175)}                    .tooltip:hover .tooltiptext {visibility: visible;opacity: 1;}                    </style > ').appendTo("head")}_createSaveViewDialog(e){const t=this;t._addSaveViewDialogStyles();const i=a("<div>").attr({id:"save_view_dialog_wrapper",class:"bi-dashboard"}).appendTo("body"),n=a("<div>").attr("id","save_view_dialog").appendTo(i),o=`\n            <div id='save_view_dialog_content'>\n                <div id = "view_name_divison">\n                    <label id='view_name_left_col'>Name*</label>\n                    <div id='view_name_right_col'>\n                        <input type='text' id='view_name_textbox' data-query='${e.data.encryptedData}' data-id='${e.viewId}'>\n                        <span id='view_name_err_msg'></span>\n                    </div>\n                </div>\n                <div id="default_view_divison">\n                <label class="text-label" id="default_view_left">Mark as Default</label>\n                    <div id='default_view_right'>\n                        <label class="default_view_switch">\n                            <input type="checkbox" id="default_view_checkbox">\n                            <span class="default_view_slider" id="default_slider"></span>\n                        </label>\n                        <div class="tooltip">\n                            <div class="su su-info bbi-dbrd-designer-hoverable" id="info-icon" data-tooltip></div>\n                            <div class="tooltiptext" id="tooltip-text"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        `,d=a("<div>").attr("id","save_view_dialog_footer"),r=a("<button>").attr("id","save_button").addClass("footer-button-class").text("Save").on("click",(()=>t._saveFilterView(t))),l=a("<button>").attr("id","cancel_button").addClass("footer-button-class").text("Cancel").on("click",(function(){a("body").find("#save_view_dialog_wrapper, #success_save_view_dialog_wrapper").remove()}));d.append(l),d.append(r),n.append(d),new window.ejdashboard.popups.Dialog({header:'<div id="save_view_dialog_header"><span class="su su-view"></span><div id="save_view_dialog_header_title">Save View</div></div>',width:"600px",isModal:!0,showCloseIcon:!0,target:i[0],content:o}).appendTo("#save_view_dialog"),document.getElementById("view_name_textbox").addEventListener("input",(function(){t._viewNameValidation()}));const h=document.getElementById("info-icon"),m=document.getElementById("tooltip-text");let b;h.addEventListener("mouseover",(function(){m.textContent=b})),h.addEventListener("mouseout",(function(){m.textContent=""})),this.isDefaultView?(document.getElementById("default_view_checkbox").checked=!0,b=s.successMessages.NonDefaultViewInfoMsg):(a(".default_view_slider").css({background:"var(--material-switch-background-bg-disable-color)",border:"1px solid var(--material-switch-background-border-disable-color)"}),document.getElementById("default_slider").classList.add("default_view_slider_disable"),document.getElementById("default_view_checkbox").checked=!1,document.getElementById("default_view_checkbox").disabled=!0,b=s.successMessages.DefaultViewInfoMsg)}_saveFilterView(e){const t=e,i=a("#view_name_textbox")[0];if(t._viewNameValidation()){let e;this.embedOptions.dashboardIds.length>0||(e=t.isMultiTab?t.getActiveChildDashboardId():"");const s=i.value,n=i.getAttribute("data-query"),o=i.getAttribute("data-id"),d={ViewName:s,ItemId:t.embedOptions.dashboardId,QueryString:n,ChildItemId:e,IsDefault:!!document.getElementById("default_view_checkbox").checked},r=e=>{e?a("body").find("#save_view_dialog_wrapper").remove():t._viewNameValidation(!0)};"null"===o?t.saveFilterView(d,r):t.saveAsFilterView(d,r)}}_updateInFilterOverviewUI(e,t){let i={};i=this.isMultiTab?window.bbEmbed(".e-content .e-active").find(".bbembed-multitab-dbrd").data("BoldBIDashboardDesigner"):this._getDashboardInstance(),i&&i._updateFilterOverview(e,t)}_viewNameValidation(e){const t=a("#view_name_textbox"),i=a("#view_name_err_msg"),n=!/^[a-zA-Z0-9!@$^ ()_=\-}{.`~]*$/.test(t.val()),o=this._isEmptyOrSpaces(t[0].value);return e||n||o?(i.css({display:"block","font-family":"var(--font-family)"}).text(e?s.errorMessages.ExistedViewName:n?s.errorMessages.AvoidSplChar:o?s.errorMessages.EmptyViewName:""),t.addClass("viewname-textbox-error"),!1):(i.css("display","none").text(),t.removeClass("viewname-textbox-error"),!0)}getActiveChildDashboardId(){return window.bbEmbed(".e-content .e-active").find(".bbembed-multitab-dbrd").data("BoldBIDashboardDesigner")._id.split("_")[1].replace(/^([\da-f]{8})([\da-f]{4})([\da-f]{4})([\da-f]{4})([\da-f]{12})$/,"$1-$2-$3-$4-$5")}_getParametersFromQueryString(e){return JSON.parse(decodeURIComponent(e).split("filterQuery=")[1]).map((e=>({name:e.dimfi&&!e.dimfi.c.toLowerCase().includes("include")?`${e.cn} (${e.dimfi.c})`:e.cn,values:e.dimfi?e.dimfi.t:e.idf.dfl})))}_onBoldBIDashboardSaveAsFilter(e){const t=this.embedOptions.dashboardSettings.beforeSaveAsViewDialogOpen||this.embedOptions.dashboardSettings.saveAsFilterClick,i=window[this.beforeSaveAsViewDialogOpenFn];i instanceof Function&&i.call(this,e);const n=window[`${t}`];n instanceof Function&&n.call(this,e),t instanceof Function&&t.call(this,e),!1===e.cancel&&(""==this.embedOptions.dashboardId?console.error(s.errorMessages.EmptyDbrdCreate):(a("body").find("#save_view_dialog_wrapper").remove(),this._createSaveViewDialog(e)))}_onBoldBIDashboardOpenViewSection(e){const t=this,i=t.embedOptions.dashboardSettings.onViewSavedFiltersClick||t.embedOptions.dashboardSettings.viewSavedFiltersClick,s=window[t.onViewSavedFiltersClickFn],n=this.isMultiTab?this.getActiveChildDashboardId():this.embedOptions.dashboardId;this.getViewsByDashboardId(n,(function(t){e.viewInfos=t})),s instanceof Function&&s.call(t,e);const o=window[`${i}`];o instanceof Function&&o.call(t,e),i instanceof Function&&i.call(t,e)}_onBoldBIDashboardBannerIconClick(e){if("fullscreen"==e.name.toLowerCase()&&this._switchFullscreenMode(e),"refreshdashboard"==e.name.toLowerCase()&&(this.isMultiTab?window.bbEmbed(".e-content .e-active").find(".bbembed-multitab-dbrd").data("BoldBIDashboardDesigner").updateDashboard():this._getDashboardInstance().updateDashboard()),"dashboardparameters"==e.name.toLowerCase()){const e=document.createElement("style");e.innerHTML=".remove-scroller-dashboard-parameter { width: 100% !important; height: 100% !important; color: #333; background: #fff; border-radius: 0; }",document.head.appendChild(e);const t=this;setTimeout((function(){const e=t.isMultiTab?window.bbEmbed(".e-content .e-active").find(".bbembed-multitab-dbrd").data("BoldBIDashboardDesigner"):t._getDashboardInstance();a("#"+e._id+"_dashboardparameter_dialog").addClass("remove-scroller-dashboard-parameter")}),50)}const t=window[this.onBannerIconClickFn];t instanceof Function&&t.call(this,e);const i=window[this.embedOptions.dashboardSettings.onIconClick];if(i instanceof Function&&i.call(this,e),this.embedOptions.dashboardSettings.onIconClick instanceof Function&&this.embedOptions.dashboardSettings.onIconClick.call(this,e),void 0!==e.name&&"theming"==e.name.toLowerCase()){let t;if(this.isMultiTab){this.multiTabTheme=e.selectedTheme;const t=window.bbEmbed(".e-content .e-active").find(".bbembed-multitab-dbrd").data("BoldBIDashboardDesigner");t.applyDashboardTheme(e.selectedTheme),this.setDefaultTheme(t.modules.themeHelper.getBannerBackground(),t.modules.themeHelper.getBannerTextColor(),t.modules.themeHelper.getBannerIconColor());const i=window.bbEmbed("#"+this.embedOptions.embedContainerId).find(".e-content .bbembed-multitab-dbrd");for(let t=0;t<i.length;t++)if(window.bbEmbed(window.bbEmbed(".e-content .e-active").find(".bbembed-multitab-dbrd")).attr("id")!=window.bbEmbed(i[`${t}`]).attr("id")){const s=window.bbEmbed(i[`${t}`]).attr("id"),n=this._getDashboardInstance(s);null!=n&&n.applyDashboardTheme(e.selectedTheme)}}else this._getDashboardInstance(t).applyDashboardTheme(e.selectedTheme)}}getComments(e,t,i){const s=this,n={ItemId:"dashboard"==e?t.dashboardId:t.widgetId,DashboardItemId:"dashboard"==e&&this.isMultiTab?t.multitabDashboardId:t.dashboardId,ItemType:e,ParentItemId:this.isMultiTab?t.multitabDashboardId:null,CommentAction:3,OrderBy:1};var o=this._validatetoken(this.accessToken);a.ajax({async:!1,type:"POST",url:this.dashboardServerApiUrl+"/comments/operation",headers:{Authorization:o},data:JSON.stringify(n),contentType:"application/json",success:function(n){if(n.Status)if("dashboard"==e)s.commentsArgs.Comments=n.Comments,s.commentsArgs.ActiveCommentsCount=n.ActiveCommentsCount,s.commentsArgs.SortBy=1,s.commentsArgs.DashboardId=n.ItemId,window[`${i}`]instanceof Function?window[`${i}`].call(s,s.commentsArgs):i.call(s,s.commentsArgs);else if("widget"==e){const e=a("[data-widget-id="+t.widgetId+"]"),o=e[0].id,d=a("#"+o).width(),r=e.offset().left+d,l=e.offset().top;let h=a(window).width()-(r+350);h<0&&(h=a(window).width()-(r-(a(window).width()<450?0:75)),a(window).width()<375&&(h=0)),s.commentsArgs.Comments=n.Comments,s.commentsArgs.Position={top:l+20,right:h+40},s.commentsArgs.ActiveCommentsCount=n.ActiveCommentsCount,s.commentsArgs.SortBy=1,s.commentsArgs.WidgetId=t.widgetId,s.commentsArgs.DashboardId=t.dashboardId,window[`${i}`]instanceof Function?window[`${i}`].call(s,s.commentsArgs):i.call(s,s.commentsArgs)}},error:function(e){s.ajaxErrorFnc(e)}})}addDashboardComment(e,t){const i=this,n=/^(?:\{{0,1}(?:[0-9a-fA-F]){8}-(?:[0-9a-fA-F]){4}-(?:[0-9a-fA-F]){4}-(?:[0-9a-fA-F]){4}-(?:[0-9a-fA-F]){12}\}{0,1})$/,o=n.exec(e.dashboardId),d=!e.multitabDashboardId||!!n.exec(e.multitabDashboardId),r=!e.parentCommentId||!!Number(e.parentCommentId);if(o&&d&&r&&!this._isEmptyOrSpaces(e.content)){const s=(new Date).toISOString(),n={ItemType:"dashboard",Comment:e.content,ItemId:e.dashboardId,ParentId:e.parentCommentId,ParentItemId:e.multitabDashboardId,CommentAction:0,CurrentDate:s,Url:this.dashboardUrl};var l=this._validatetoken(this.accessToken);a.ajax({async:!1,type:"POST",url:this.dashboardServerApiUrl+"/comments/operation",headers:{Authorization:l},data:JSON.stringify(n),contentType:"application/json",success:function(s){s.Status&&i.getComments("dashboard",e,t)},error:function(e){i.ajaxErrorFnc(e)}})}else o&&d?r?this._isEmptyOrSpaces(e.content)&&console.error(s.errorMessages.InvalidCommentText):console.error(s.errorMessages.InvalidReplyCommentID):console.error(s.errorMessages.InvalidDashboardID)}addWidgetComment(e,t){const i=this,n=/^(?:\{{0,1}(?:[0-9a-fA-F]){8}-(?:[0-9a-fA-F]){4}-(?:[0-9a-fA-F]){4}-(?:[0-9a-fA-F]){4}-(?:[0-9a-fA-F]){12}\}{0,1})$/,o=n.exec(e.dashboardId),d=n.exec(e.widgetId),r=!e.multitabDashboardId||!!n.exec(e.multitabDashboardId),l=!e.parentCommentId||!!Number(e.parentCommentId);if(d&&o&&r&&l&&!this._isEmptyOrSpaces(e.content)){const s=(new Date).toISOString(),n={ItemType:"widget",Comment:e.content,ItemId:e.widgetId,DashboardItemId:e.dashboardId,ParentId:e.parentCommentId,ParentItemId:e.multitabDashboardId,CommentAction:0,CurrentDate:s,Url:this.dashboardUrl};var h=this._validatetoken(this.accessToken);a.ajax({async:!1,type:"POST",url:this.dashboardServerApiUrl+"/comments/operation",headers:{Authorization:h},data:JSON.stringify(n),contentType:"application/json",success:function(s){s.Status&&i.getComments("widget",e,t)},error:function(e){i.ajaxErrorFnc(e)}})}else o&&r&&d?l?this._isEmptyOrSpaces(e.content)&&console.error(s.errorMessages.InvalidCommentText):console.error(s.errorMessages.InvalidReplyCommentID):console.error(s.errorMessages.InvalidDbrdAndWidgetID)}deleteDashboardComment(e,t){const i=this,n=/^(?:\{{0,1}(?:[0-9a-fA-F]){8}-(?:[0-9a-fA-F]){4}-(?:[0-9a-fA-F]){4}-(?:[0-9a-fA-F]){4}-(?:[0-9a-fA-F]){12}\}{0,1})$/,o=n.exec(e.dashboardId),d=!e.multitabDashboardId||!!n.exec(e.multitabDashboardId);if(o&&d&&!this._isEmptyOrSpaces(e.commentId)){const s=(new Date).toISOString(),n={ItemType:"dashboard",CommentId:e.commentId,ItemId:e.dashboardId,ParentItemId:e.multitabDashboardId,CommentAction:2,CurrentDate:s,Url:this.dashboardUrl};var r=this._validatetoken(this.accessToken);a.ajax({async:!1,type:"POST",url:this.dashboardServerApiUrl+"/comments/operation",headers:{Authorization:r},data:JSON.stringify(n),contentType:"application/json",success:function(s){s.Status&&i.getComments("dashboard",e,t)},error:function(e){i.ajaxErrorFnc(e)}})}else o&&d?this._isEmptyOrSpaces(e.commentId)&&console.error(s.errorMessages.InvalidCommentID):console.error(s.errorMessages.InvalidDashboardID)}deleteWidgetComment(e,t){const i=this,n=/^(?:\{{0,1}(?:[0-9a-fA-F]){8}-(?:[0-9a-fA-F]){4}-(?:[0-9a-fA-F]){4}-(?:[0-9a-fA-F]){4}-(?:[0-9a-fA-F]){12}\}{0,1})$/,o=n.exec(e.dashboardId),d=n.exec(e.widgetId),r=!e.multitabDashboardId||!!n.exec(e.multitabDashboardId);if(d&&o&&r&&!this._isEmptyOrSpaces(e.commentId)){const s=(new Date).toISOString(),n={ItemType:"widget",CommentId:e.commentId,ItemId:e.widgetId,DashboardItemId:e.dashboardId,ParentItemId:e.multitabDashboardId,CommentAction:2,CurrentDate:s,Url:this.dashboardUrl};var l=this._validatetoken(this.accessToken);a.ajax({async:!1,type:"POST",url:this.dashboardServerApiUrl+"/comments/operation",headers:{Authorization:l},data:JSON.stringify(n),contentType:"application/json",success:function(s){s.Status&&i.getComments("widget",e,t)},error:function(e){i.ajaxErrorFnc(e)}})}else o&&r&&d?this._isEmptyOrSpaces(e.commentId)&&console.error(s.errorMessages.InvalidCommentID):console.error(s.errorMessages.InvalidDbrdAndWidgetID)}editDashboardComment(e,t){const i=this,n=/^(?:\{{0,1}(?:[0-9a-fA-F]){8}-(?:[0-9a-fA-F]){4}-(?:[0-9a-fA-F]){4}-(?:[0-9a-fA-F]){4}-(?:[0-9a-fA-F]){12}\}{0,1})$/,o=n.exec(e.dashboardId),d=!e.multitabDashboardId||!!n.exec(e.multitabDashboardId);if(o&&d&&!this._isEmptyOrSpaces(e.content)&&!this._isEmptyOrSpaces(e.commentId)){const s=(new Date).toISOString(),n={ItemType:"dashboard",Comment:e.content,CommentId:e.commentId,ItemId:e.dashboardId,ParentItemId:e.multitabDashboardId,CommentAction:1,CurrentDate:s,Url:this.dashboardUrl};var r=this._validatetoken(this.accessToken);a.ajax({async:!1,type:"POST",url:this.dashboardServerApiUrl+"/comments/operation",headers:{Authorization:r},data:JSON.stringify(n),contentType:"application/json",success:function(s){s.Status&&i.getComments("dashboard",e,t)},error:function(e){i.ajaxErrorFnc(e)}})}else o&&d?this._isEmptyOrSpaces(e.commentId)?console.error(s.errorMessages.InvalidCommentID):this._isEmptyOrSpaces(e.content)&&console.error(s.errorMessages.InvalidCommentText):console.error(s.errorMessages.InvalidDashboardID)}editWidgetComment(e,t){const i=this,n=/^(?:\{{0,1}(?:[0-9a-fA-F]){8}-(?:[0-9a-fA-F]){4}-(?:[0-9a-fA-F]){4}-(?:[0-9a-fA-F]){4}-(?:[0-9a-fA-F]){12}\}{0,1})$/,o=n.exec(e.dashboardId),d=n.exec(e.widgetId),r=!e.multitabDashboardId||!!n.exec(e.multitabDashboardId);if(d&&o&&r&&!this._isEmptyOrSpaces(e.content)&&!this._isEmptyOrSpaces(e.commentId)){const s=(new Date).toISOString(),n={ItemType:"widget",Comment:e.content,CommentId:e.commentId,ItemId:e.widgetId,DashboardItemId:e.dashboardId,ParentItemId:e.multitabDashboardId,CommentAction:1,CurrentDate:s,Url:this.dashboardUrl};var l=this._validatetoken(this.accessToken);a.ajax({async:!1,type:"POST",url:this.dashboardServerApiUrl+"/comments/operation",headers:{Authorization:l},data:JSON.stringify(n),contentType:"application/json",success:function(s){s.Status&&(i.commentsArgs.StatusMessage=s.StatusMessage,i.getComments("widget",e,t))},error:function(e){i.ajaxErrorFnc(e)}})}else o&&r&&d?this._isEmptyOrSpaces(e.commentId)?console.error(s.errorMessages.InvalidCommentID):this._isEmptyOrSpaces(e.content)&&console.error(s.errorMessages.InvalidCommentText):console.error(s.errorMessages.InvalidDbrdAndWidgetID)}ajaxErrorFnc(e){let t="";t=0==e.status?s.errorMessages.NetworkIssue:404==e.status?"Not Found"==e.statusText?s.errorMessages.ViewIDNotFound:s.errorMessages.PageNotFound:500==e.status?s.errorMessages.InternalServerError:s.errorMessages.UncaughtError+e.responseText,this._isNullOrUndefined(this.embedOptions.onError)||""==this.embedOptions.onError?console.error(t):this.onErrorClient(t)}setDefaultTheme(e,t,i){a(".e-tab-header.e-control.e-toolbar.e-lib.e-keyboard").css("color",i),a(".e-toolbar-item .e-tab-text").css("color",t),a(".e-toolbar-item.e-active .e-tab-text").addClass("active-font-color"),a(".multitab-dbrd").css("background",e),a(".e-items.e-toolbar-items.e-lib.e-hscroll.e-control.e-touch .e-nav-arrow").css("color",i)}_switchFullscreenMode(e){const t=document.getElementById(e.target.parent().attr("id").split("_embeddedbi")[0]);this.isFullscreen=!1,document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):"ActiveXObject"in window&&(new ActiveXObject("Wscript.shell").SendKeys("{F11}"),setTimeout((function(){(screen.availHeight||screen.height-30)<=window.innerHeight?(a('<style id="embed-fullscreen" type="text/css"> .hide-dashboard-icons #dashboard-refresh {  display: block !important; } .hide-dashboard-icons ul.options, .hide-dashboard-icons .su-pin, .hide-dashboard-icons .su-edit, .hide-dashboard-icons .bbi-dbrd-banner-link, .hide-dashboard-icons .bbi-dbrd-banner-menu, .hide-dashboard-icons .bbi-dbrd-banner-text-icon, .hide-dashboard-icons .bbi-dbrd-banner-widget-withoutcomments, .hide-dashboard-icons .bbi-dbrd-banner-widget-withcomments, .hide-dashboard-icons .bbi-dbrd-control-menu, .hide-dashboard-icons .e-dashboard-banner-menu, .hide-dashboard-icons .e-dashboard-banner-link, .hide-dashboard-icons .su-icon, .hide-dashboard-icons .bbi-dbrd-control-menu-icon, .hide-dashboard-icons .e-dashboard-banner-icon:not(#dashboard-fullscreen):not(#dashboard-refresh):not(#pinboard-fullscreen), .hide-dashboard-icons .e-dashboard-banner-description, .hide-dashboard-icons .server-banner-icon + .e-banner-verticalsplitline, .hide-dashboard-icons #dashboard_bannerPanel div a + .e-banner-verticalsplitline, .hide-dashboard-icons .bbi-dashboard-widget-menu { display: none !important; } .hide-dashboard-icons #dashboard { width: 100% !important; } .hide-embed-dashboard-icons .bbi-dbrd-banner-link, .hide-embed-dashboard-icons .bbi-dbrd-banner-menu, .hide-embed-dashboard-icons .bbi-dbrd-banner-text-icon, .hide-embed-dashboard-icons .bbi-dbrd-banner-widget-withoutcomments, .hide-embed-dashboard-icons .bbi-dbrd-banner-widget-withcomments, .hide-embed-dashboard-icons .bbi-dbrd-control-menu, .hide-embed-dashboard-icons .e-dashboard-banner-menu, .hide-embed-dashboard-icons .e-dashboard-banner-link, .hide-embed-dashboard-icons .e-dashboard-banner-icon:not(#dashboard-fullscreen):not(#dashboard-refresh):not(#dashboard_otheroption):not(#dashboard-view):not(#dashboard-comment):not(#dashboard_dashboardmenu), .hide-embed-dashboard-icons #dashboard_bannerPanel div a + .e-banner-verticalsplitline, .hide-embed-dashboard-icons .saved-view .su.cursor-pointer { display: none !important; } </style>').appendTo("head"),a("body").addClass("hide-dashboard-icons"),a("#dashboard-fullscreen").removeClass("su-maximize-1").addClass("su-minimize").attr("data-tooltip","Exit Fullscreen")):(a("#embed-fullscreen").remove(),a("body").removeClass("hide-dashboard-icons"),this.isMultiTab&&a("#"+this.embedOptions.embedContainerId).find(".multitab-dbrd").css("width",this.embedOptions.width),a("#dashboard-fullscreen").addClass("su-maximize-1").removeClass("su-minimize").attr("data-tooltip","Fullscreen"))}),400))}_fullscreenExitHandler(e){var t,i,s,n,o,d;if(document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement){const t=document.getElementById("remove-view-saved");if(null===(d=null===(o=null===(n=this.embedOptions)||void 0===n?void 0:n.dashboardSettings)||void 0===o?void 0:o.filterOverviewSettings)||void 0===d?void 0:d.showViewSavedFilterIcon)if(t)document.getElementById("remove-view-saved").innerHTML=".bbi-dbrd-view-saved { display: none; }";else{const e=document.createElement("style");e.type="text/css",e.id="remove-view-saved";const t=".bbi-dbrd-view-saved{display:none}";e.appendChild(document.createTextNode(t)),document.head.appendChild(e)}this.isFullscreen=!0;const i=0!=this.embedOptions.dashboardSettings.showRefresh?"block !important":"none !important";a('<style id="embed-fullscreen" type="text/css"> .hide-dashboard-icons #dashboard-refresh { display:'+i+"; } .hide-dashboard-icons ul.options, .hide-dashboard-icons .su-pin, .hide-dashboard-icons .su-edit, .hide-dashboard-icons .bbi-dbrd-banner-link, .hide-dashboard-icons .bbi-dbrd-banner-menu, .hide-dashboard-icons .bbi-dbrd-banner-text-icon, .hide-dashboard-icons .bbi-dbrd-banner-widget-withoutcomments, .hide-dashboard-icons .bbi-dbrd-banner-widget-withcomments, .hide-dashboard-icons .bbi-dbrd-control-menu, .hide-dashboard-icons .e-dashboard-banner-menu, .hide-dashboard-icons .e-dashboard-banner-link, .hide-dashboard-icons .su-icon, .hide-dashboard-icons .bbi-dbrd-control-menu-icon, .hide-dashboard-icons .e-dashboard-banner-icon:not(#dashboard-fullscreen):not(#dashboard-refresh):not(#pinboard-fullscreen), .hide-dashboard-icons .e-dashboard-banner-description, .hide-dashboard-icons .server-banner-icon + .e-banner-verticalsplitline, .hide-dashboard-icons #dashboard_bannerPanel div a + .e-banner-verticalsplitline, .hide-dashboard-icons .bbi-dashboard-widget-menu { display: none !important; } .hide-dashboard-icons #dashboard { width: 100% !important; } .hide-embed-dashboard-icons .bbi-dbrd-banner-link, .hide-embed-dashboard-icons .bbi-dbrd-banner-menu, .hide-embed-dashboard-icons .bbi-dbrd-banner-text-icon, .hide-embed-dashboard-icons .bbi-dbrd-banner-widget-withoutcomments, .hide-embed-dashboard-icons .bbi-dbrd-banner-widget-withcomments, .hide-embed-dashboard-icons .bbi-dbrd-control-menu, .hide-embed-dashboard-icons .e-dashboard-banner-menu, .hide-embed-dashboard-icons .e-dashboard-banner-link, .hide-embed-dashboard-icons .e-dashboard-banner-icon:not(#dashboard-fullscreen):not(#dashboard-refresh):not(#dashboard_otheroption):not(#dashboard-view):not(#dashboard-comment):not(#dashboard_dashboardmenu), .hide-embed-dashboard-icons #dashboard_bannerPanel div a + .e-banner-verticalsplitline, .hide-embed-dashboard-icons .saved-view .su.cursor-pointer { display: none !important; } </style>").appendTo("head"),a("body").addClass("hide-dashboard-icons"),e.isMultiTab?a("#"+e.embedOptions.embedContainerId).find(".multitab-dbrd .e-content .e-active").find("#dashboard-fullscreen").removeClass("su-maximize-1").addClass("su-minimize").attr("data-tooltip","Exit Fullscreen"):a("#dashboard-fullscreen").removeClass("su-maximize-1").addClass("su-minimize").attr("data-tooltip","Exit Fullscreen"),a("#pinboard-fullscreen").removeClass("su-maximize-1").addClass("su-minimize").attr("data-tooltip","Exit Fullscreen"),a("#server-app-container").attr("style","background-color: #f9f9f9; overflow: auto !important")}else a("#embed-fullscreen").remove(),a("body").removeClass("hide-dashboard-icons"),e.isMultiTab?(a("#"+e.embedOptions.embedContainerId).find(".multitab-dbrd").css("width","100%"),a("#"+e.embedOptions.embedContainerId).find(".multitab-dbrd .e-content .e-active").find("#dashboard-fullscreen").addClass("su-maximize-1").removeClass("su-minimize").attr("data-tooltip","Fullscreen")):a("#dashboard-fullscreen").addClass("su-maximize-1").removeClass("su-minimize").attr("data-tooltip","Fullscreen"),a("#pinboard-fullscreen").addClass("su-maximize-1").removeClass("su-minimize").attr("data-tooltip","Fullscreen"),a("#server-app-container").attr("style","background-color: #f9f9f9; height:"+a("#content-area").height()+"px;overflow: hidden !important;min-height: 600px; width:"+e.embedOptions.width),(null===(s=null===(i=null===(t=this.embedOptions)||void 0===t?void 0:t.dashboardSettings)||void 0===i?void 0:i.filterOverviewSettings)||void 0===s?void 0:s.showViewSavedFilterIcon)&&(document.getElementById("remove-view-saved").innerHTML=".bbi-dbrd-view-saved { display: block; }")}_onBoldBIDashboardBeforeWidgetIconRendered(e){0==this.embedOptions.widgetSettings.showMaximize&&(e.iconsinformation=this._arraySlice(e.iconsinformation,"name","maximize")),0==this.embedOptions.widgetSettings.showFilter&&(e.iconsinformation=this._arraySlice(e.iconsinformation,"name","filter")),(0==this.embedOptions.widgetSettings.showExport||0==this.embedOptions.exportSettings.showExcel&&0==this.embedOptions.exportSettings.showImage&&0==this.embedOptions.exportSettings.showPDF&&0==this.embedOptions.exportSettings.showCSV)&&(e.iconsinformation=this._arraySlice(e.iconsinformation,"name","export"),this._isNullOrUndefined(e.widgetInformation)||this._isNullOrUndefined(e.widgetInformation.widgetJson)||this._isNullOrUndefined(e.widgetInformation.widgetJson.ContainerSettings)||e.widgetInformation.widgetJson.ContainerSettings.ViewData&&1!=e.widgetInformation.widgetJson.ContainerSettings.ViewActionData||(e.iconsinformation=this._arraySlice(e.iconsinformation,"name","menu"))),0==this.embedOptions.widgetSettings.showMoreOption&&(e.iconsinformation=this._arraySlice(e.iconsinformation,"name","menu"));const t=window[this.beforeWidgetIconRenderedFn];t instanceof Function&&t.call(this,e);const i=window[this.embedOptions.widgetSettings.beforeIconRender];i instanceof Function&&i.call(this,e),this.embedOptions.widgetSettings.beforeIconRender instanceof Function&&this.embedOptions.widgetSettings.beforeIconRender.call(this,e)}_onBoldBIBeforeControlMenuOpen(e){(0==this.embedOptions.widgetSettings.showExport||0==this.embedOptions.exportSettings.showExcel&&0==this.embedOptions.exportSettings.showCSV&&0==this.embedOptions.exportSettings.showImage&&0==this.embedOptions.exportSettings.showPDF)&&(e.menuItems=this._arraySlice(e.menuItems,"id","export"));const t=window[this.embedOptions.widgetSettings.beforeWidgetControlMenuOpen];t instanceof Function&&t.call(this,e),this.embedOptions.widgetSettings.beforeWidgetControlMenuOpen instanceof Function&&this.embedOptions.widgetSettings.beforeWidgetControlMenuOpen.call(this,e)}_onBoldBIBeforeDashboardMobileMenuOpen(e){if(0==this.embedOptions.dashboardSettings.showDashboardParameter||0==this.embedOptions.dashboardSettings.showRefresh||0==this.embedOptions.dashboardSettings.showExport)for(let t=e.menuItems.length-1;t>=0;t--)(0==this.embedOptions.dashboardSettings.showDashboardParameter&&"dashboardparameters"==e.menuItems[`${t}`].id||0==this.embedOptions.dashboardSettings.showRefresh&&"refreshDashboard"==e.menuItems[`${t}`].id||0==this.embedOptions.dashboardSettings.showExport&&"export"==e.menuItems[`${t}`].id)&&e.menuItems.splice(t,1);const t=window[this.embedOptions.beforeDashboardMobileMenuOpen];t instanceof Function&&t.call(this,e),this.embedOptions.beforeDashboardMobileMenuOpen instanceof Function&&this.embedOptions.beforeDashboardMobileMenuOpen.call(this,e)}_onBoldBIAjaxBeforeLoad(e){const t=window[this.embedOptions.ajaxBeforeLoad];t instanceof Function&&t.call(this,e),this.embedOptions.ajaxBeforeLoad instanceof Function&&this.embedOptions.ajaxBeforeLoad.call(this,e)}_onBoldBIbeforeDesignerToolbarButtonsRendered(e){const t=window[this.embedOptions.dashboardSettings.beforeDesignerToolbarButtons];t instanceof Function&&t.call(this,e),this.embedOptions.dashboardSettings.beforeDesignerToolbarButtons instanceof Function&&this.embedOptions.dashboardSettings.beforeDesignerToolbarButtons.call(this,e)}_onBoldBIbeforeDatasourceToolbarButtonsRendered(e){for(let t=e.toolbarButtons.length-1;t>=0;t--)e.toolbarButtons[`${t}`].elementId!=this.embedOptions.embedContainerId+"_embeddedbi_continue_dashboard_button"&&e.toolbarButtons[`${t}`].elementId!=this.embedOptions.embedContainerId+"_embeddedbi_editScheduleButton"||e.toolbarButtons.splice(t,1),this.isNewConnection||this.embedOptions.mode==r.Mode.Design||e.toolbarButtons[`${t}`].elementId==this.embedOptions.embedContainerId+"_embeddedbi_cancelButton"&&e.toolbarButtons.splice(t,1);this.isNewConnection=!1;const t=window[this.embedOptions.dashboardSettings.beforeDatasourceToolbarButtonsRendered];t instanceof Function&&t.call(this,e),this.embedOptions.dashboardSettings.beforeDatasourceToolbarButtonsRendered instanceof Function&&this.embedOptions.dashboardSettings.beforeDatasourceToolbarButtonsRendered.call(this,e)}_onBoldBIbeforeDatasourceToolbarIconsRendered(e){const t=window[this.embedOptions.dashboardSettings.beforeDatasourceToolbarIconsRendered];t instanceof Function&&t.call(this,e),this.embedOptions.dashboardSettings.beforeDatasourceToolbarIconsRendered instanceof Function&&this.embedOptions.dashboardSettings.beforeDatasourceToolbarIconsRendered.call(this,e)}_onBoldBIbeforeDesignerToolbarIconsRendered(e){const t=window[this.embedOptions.dashboardSettings.beforeDesignerToolbarIconsRendered];t instanceof Function&&t.call(this,e),this.embedOptions.dashboardSettings.beforeDesignerToolbarIconsRendered instanceof Function&&this.embedOptions.dashboardSettings.beforeDesignerToolbarIconsRendered.call(this,e)}_onBoldBItoolbarClick(e){const t=window[this.embedOptions.dashboardSettings.toolbarClick];t instanceof Function&&t.call(this,e),this.embedOptions.dashboardSettings.toolbarClick instanceof Function&&this.embedOptions.dashboardSettings.toolbarClick.call(this,e)}_onBoldBIbeforeWidgetItemsListed(e){const t=window[this.embedOptions.widgetSettings.beforeWidgetItemsListed];t instanceof Function&&t.call(this,e),this.embedOptions.widgetSettings.beforeWidgetItemsListed instanceof Function&&this.embedOptions.widgetSettings.beforeWidgetItemsListed.call(this,e)}_onBoldBIbeforeWidgetLayoutRender(e){const t=window[this.embedOptions.widgetSettings.beforeWidgetLayoutRender];t instanceof Function&&t.call(this,e),this.embedOptions.widgetSettings.beforeWidgetLayoutRender instanceof Function&&this.embedOptions.widgetSettings.beforeWidgetLayoutRender.call(this,e)}_onBoldBIDashboardWidgetIconClick(e){const t=window[this.onWidgetIconClickFn];t instanceof Function&&t.call(this,e);const i=window[this.embedOptions.widgetSettings.onIconClick];i instanceof Function&&i.call(this,e),this.embedOptions.widgetSettings.onIconClick instanceof Function&&this.embedOptions.widgetSettings.onIconClick.call(this,e)}_onBoldBIonControlMenuClick(e){const t=window[this.embedOptions.widgetSettings.onWidgetControlMenuClick];t instanceof Function&&t.call(this,e),this.embedOptions.widgetSettings.onWidgetControlMenuClick instanceof Function&&this.embedOptions.widgetSettings.onWidgetControlMenuClick.call(this,e)}_onBoldBIDashboardUpdatefavorite(e){const t=window[this.onFavoriteStateChangeFn];t instanceof Function&&t.call(this,e);const i=window[this.embedOptions.dashboardSettings.onFavoriteIconClick];i instanceof Function&&i.call(this,e),this.embedOptions.dashboardSettings.onFavoriteIconClick instanceof Function&&this.embedOptions.dashboardSettings.onFavoriteIconClick.call(this,e)}_onBoldBIBeforeNavigateUrlLinking(e){const t=window[this.embedOptions.beforeNavigateUrlLinking];t instanceof Function&&t.call(this,e),this.embedOptions.beforeNavigateUrlLinking instanceof Function&&this.embedOptions.beforeNavigateUrlLinking.call(this,e)}_onBoldBIBeforeNavigateToDashboard(e){const t=window[this.embedOptions.beforeNavigateToDashboard];t instanceof Function&&t.call(this,e),this.embedOptions.beforeNavigateToDashboard instanceof Function&&this.embedOptions.beforeNavigateToDashboard.call(this,e)}_onBoldBIAuthorizionComplete(e){const t=window[this.embedOptions.authorizationServer.authorizionComplete];t instanceof Function&&t.call(this,e),this.embedOptions.authorizationServer.authorizionComplete instanceof Function&&this.embedOptions.authorizationServer.authorizionComplete.call(this,e)}_showLoader(e){this.isMultipleWidgetMode&&(this.embedOptions.embedContainerId=e);const t=this.embedOptions.embedContainerId,i=`\n        #${t} .viewer-blue-loader { display: block !important; }\n        #${t} .loader-icon { display: block; left: 0 !important; position: relative; margin: 0 auto; width: 54px; height: 54px; }\n        #${t} .loader-icon .circular { animation: rotate 2s linear infinite; height: 54px; width: 54px; position: relative; }\n        #${t} .loader-icon .path { stroke-dasharray: 1,200; stroke-dashoffset: 0; animation: dash 1.5s ease-in-out infinite; stroke: #5592FB; stroke-linecap: square; }\n        @keyframes rotate { 100% { transform: rotate(360deg); } }\n        @keyframes dash {\n            0% { stroke-dasharray: 1,200; stroke-dashoffset: 0; }\n            50% { stroke-dasharray: 89,200; stroke-dashoffset: -35; }\n            100% { stroke-dasharray: 89,200; stroke-dashoffset: -124; }\n        }\n        `;if(![...document.head.querySelectorAll("style")].some((e=>e.innerHTML.includes(`#${t} .viewer-blue-loader`)))){const e=document.createElement("style");e.innerHTML=i,document.head.appendChild(e)}const s='<div class="preloader-wrap viewer-blue-loader" style="display: none; width: '+this.embedOptions.width+";height: "+this.embedOptions.height+'; top: 0; bottom: 0; z-index : 2;"> <div id="loader_image" align="center" style="position:relative;top:45%;"> <div class="loader-blue loader-icon" id="loader-icon"> <svg class="circular"> <circle class="path" cx="27" cy="27" r="20" fill="none" stroke-width="4" stroke-miterlimit="10"></circle> </svg> </div> </div> </div>';this._removeElement("embedded-bi-error"),document.getElementById(this.embedOptions.embedContainerId).insertAdjacentHTML("afterbegin",s)}_xhrRequestHelper(e,t,i,n,o){const a=this,d=new XMLHttpRequest;d.open(e,t,!0),d.responseType="json",d.setRequestHeader("Content-type","application/json");for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&d.setRequestHeader(e,n[`${e}`]);d.onreadystatechange=function(){4==d.readyState&&200==d.status?o.call(a,"object"==typeof d.response?d.response:JSON.parse(d.response)):4==d.readyState&&404==d.status?a._throwError(s.errorMessages.ServerNotFound):4==d.readyState&&a._throwError(d.statusText)},d.send(JSON.stringify(i))}_emptyHtml(e){document.getElementById(e).innerHTML=""}_removeElement(e){const t=document.getElementById(e);null!=t&&t.parentNode.removeChild(t)}_uuidv4Generartor(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}_isEmptyOrSpaces(e){return void 0===e||null==e||null!=e.match(/^ *$/)}_isNullOrUndefined(e){return null==e||null==e}_isUrl(e){let t;try{t=new URL(e)}catch(e){return!1}return"http:"==t.protocol||"https:"==t.protocol}_throwError(e,t){if(t=this._isEmptyOrSpaces(t)?this.embedOptions.embedContainerId:t){"string"==typeof e&&(e=e.replace(/^BoldBI Embedded:\s*/,"")),this._removeElementsClass(t,".preloader-wrap","viewer-blue-loader");const i='<div id="embedded-bi-error" style="display:table;height:100%;width:100%;"><div style="display: table-cell;vertical-align: middle;text-align: center;"><div style="display: inline-block;"><img src='+this.errorImage+' style="float: left"/><div style="float: left;margin-left: 10px;line-height: 20px;">BoldBI Embedded: '+e+"</div></div>";document.getElementById(t).innerHTML=i}else alert(e);if(this._isNullOrUndefined(this.embedOptions.onError)||""==this.embedOptions.onError)throw new Error(s.errorMessages.BoldBIEmbedded+e);{const t=new Error(s.errorMessages.BoldBIEmbedded+e);this.onErrorClient(t)}}onErrorClient(e){const t={errorStatus:!0,StatusMessage:e,StatusCode:500},i=window[this.embedOptions.onError];i instanceof Function&&i.call(this,t),this.embedOptions.onError instanceof Function&&this.embedOptions.onError.call(this,t)}_removeElementsClass(e,t,i){let s=[];this._isEmptyOrSpaces(e)?s=document.querySelector(t):this._isEmptyOrSpaces(t)?s.push(document.getElementById(e)):s=document.getElementById(e).querySelectorAll(t),s.forEach(function(e){this._removeClass(e,i)}.bind(this))}_hasClass(e,t){if(e.classList)return e.classList.contains(t);const i=RegExp;return!!e.className.match(new i("(\\s|^)"+t+"(\\s|$)"))}_addClass(e,t){e.classList?e.classList.add(t):this._hasClass(e,t)||(e.className+=" "+t)}_removeClass(e,t){if(e.classList)e.classList.remove(t);else if(this._hasClass(e,t)){const i=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(i," ")}}_arraySlice(e,t,i){return e.forEach(function(e,s,n){e[`${t}`]==i&&n.splice(s,1)}.bind(this)),e}_getFilterData(e){const t={masterData:[]},i=decodeURI(e).replace(/~&~/g,String.fromCharCode(251)+String.fromCharCode(251)).replace(/~=~/g,String.fromCharCode(250)+String.fromCharCode(250)).replace(/~[?]~/g,String.fromCharCode(253)+String.fromCharCode(253)).replace(/~[/]~/g,String.fromCharCode(254)+String.fromCharCode(254)).replace(/&&/g,"&").replace(/&/g,"|,|").replace(/=/g,"|:|").replace(/~,~/g,String.fromCharCode(252)+String.fromCharCode(252)).split("|,|");for(let e=0;e<i.length;e++){const s=i[`${e}`].split("|:|");if(s.length>=2&&"FILTERQUERY"==s[0].trim().toUpperCase()){const e=s[1],i=a.parseJSON(e);""!=i&&0!=i.length&&(t.masterData=this._lengthensSelectedFilterInfo(i),this._unEscapeSelectedFilterDataforURLFilter(t.masterData))}}return this._createFilterCollection(t.masterData)}_createFilterCollection(e){if(e){const t=[];return e.forEach(function(e){let i=e.ColumnName,s=[];e.InitialDateFilter.DisplayDateFilterList.length>0&&(s=e.InitialDateFilter.DisplayDateFilterList,e.IsRange&&(s=[s[0]+" - "+s[1]])),e.InitialMeasureFilter.Values.length>0&&(s=e.InitialMeasureFilter.Values),e.InitialDimensionFilter.Text.length>0&&(s=e.InitialDimensionFilter.Text,i=i+" ("+e.InitialDimensionFilter.DimesnionFilterCondition+")"),e.InitialDimensionFilter.Text.length>0&&(s=e.InitialDimensionFilter.Text),t.push({ColumnName:i,Values:s})}.bind(this)),t}}_lengthensSelectedFilterInfo(e){const t=[],i=e.length;for(let s=0;s<i;s++){const i=e[`${s}`],n=new SelectedFilterValue;this._hasValue(i,shortenEnum.UniqueColumnName)&&(n[lengthenEnum.UniqueColumnName]=i[shortenEnum.UniqueColumnName]),this._hasValue(i,shortenEnum.ReportName)&&(n[lengthenEnum.ReportName]=i[shortenEnum.ReportName]),this._hasValue(i,shortenEnum.IsStdDateTime)&&(n[lengthenEnum.IsStdDateTime]=i[shortenEnum.IsStdDateTime]),this._hasValue(i,shortenEnum.IsRange)&&(n[lengthenEnum.IsRange]=i[shortenEnum.IsRange]),this._hasValue(i,shortenEnum.IsGroupBarFilter)&&(n[lengthenEnum.IsGroupBarFilter]=i[shortenEnum.IsGroupBarFilter]),this._hasValue(i,shortenEnum.IsMultiSelection)&&(n[lengthenEnum.IsMultiSelection]=i[shortenEnum.IsMultiSelection]),this._hasValue(i,shortenEnum.ColumnName)&&(n[lengthenEnum.ColumnName]=i[shortenEnum.ColumnName]),this._hasValue(i,shortenEnum.FieldId)&&(n[lengthenEnum.FieldId]=i[shortenEnum.FieldId]),this._hasValue(i,shortenEnum.IsPoPWidget)&&(n[lengthenEnum.IsPoPWidget]=i[shortenEnum.IsPoPWidget]),this._hasValue(i,shortenEnum.InitialDateFilter)&&(this._hasValue(i[shortenEnum.InitialDateFilter],shortenEnum.DateFilterCondition)&&(n.InitialDateFilter[lengthenEnum.DateFilterCondition]=i[shortenEnum.InitialDateFilter][shortenEnum.DateFilterCondition]),this._hasValue(i[shortenEnum.InitialDateFilter],shortenEnum.DateFilterList)&&(n.InitialDateFilter[lengthenEnum.DateFilterList]=i[shortenEnum.InitialDateFilter][shortenEnum.DateFilterList]),this._hasValue(i[shortenEnum.InitialDateFilter],shortenEnum.DateFilterType)&&(n.InitialDateFilter[lengthenEnum.DateFilterType]=i[shortenEnum.InitialDateFilter][shortenEnum.DateFilterType]),this._hasValue(i[shortenEnum.InitialDateFilter],shortenEnum.DisplayDateFilterList)&&(n.InitialDateFilter[lengthenEnum.DisplayDateFilterList]=i[shortenEnum.InitialDateFilter][shortenEnum.DisplayDateFilterList]),this._hasValue(i[shortenEnum.InitialDateFilter],shortenEnum.DateFormat)&&(n.InitialDateFilter[lengthenEnum.DateFormat]=i[shortenEnum.InitialDateFilter][shortenEnum.DateFormat]),this._hasValue(i[shortenEnum.InitialDateFilter],shortenEnum.SelectedRangeforRelativeFilter)&&(n.InitialDateFilter[lengthenEnum.SelectedRangeforRelativeFilter]=i[shortenEnum.InitialDateFilter][shortenEnum.SelectedRangeforRelativeFilter])),this._hasValue(i,shortenEnum.InitialDimensionFilter)&&(this._hasValue(i[shortenEnum.InitialDimensionFilter],shortenEnum.DimesnionFilterCondition)&&(n.InitialDimensionFilter[lengthenEnum.DimesnionFilterCondition]=i[shortenEnum.InitialDimensionFilter][shortenEnum.DimesnionFilterCondition]),this._hasValue(i[shortenEnum.InitialDimensionFilter],shortenEnum.Text)&&(n.InitialDimensionFilter[lengthenEnum.Text]=i[shortenEnum.InitialDimensionFilter][shortenEnum.Text])),this._hasValue(i,shortenEnum.InitialMeasureFilter)&&(this._hasValue(i[shortenEnum.InitialMeasureFilter],shortenEnum.MeasureFilterCondition)&&(n.InitialMeasureFilter[lengthenEnum.MeasureFilterCondition]=i[shortenEnum.InitialMeasureFilter][shortenEnum.MeasureFilterCondition]),this._hasValue(i[shortenEnum.InitialMeasureFilter],shortenEnum.Values)&&(n.InitialMeasureFilter[lengthenEnum.Values]=i[shortenEnum.InitialMeasureFilter][shortenEnum.Values])),this._hasValue(i,shortenEnum.PoPFilter)&&(this._hasValue(i[shortenEnum.PoPFilter],shortenEnum.DateFieldId)&&(n.PoPFilter[lengthenEnum.DateFieldId]=i[shortenEnum.PoPFilter][shortenEnum.DateFieldId]),this._hasValue(i[shortenEnum.PoPFilter],shortenEnum.PrimaryType)&&(n.PoPFilter[lengthenEnum.PrimaryType]=i[shortenEnum.PoPFilter][shortenEnum.PrimaryType]),this._hasValue(i[shortenEnum.PoPFilter],shortenEnum.SecondaryType)&&(n.PoPFilter[lengthenEnum.SecondaryType]=i[shortenEnum.PoPFilter][shortenEnum.SecondaryType]),this._hasValue(i[shortenEnum.PoPFilter],shortenEnum.PrimaryCustomRange)&&(n.PoPFilter[lengthenEnum.PrimaryCustomRange][lengthenEnum.StartRange]=i[shortenEnum.PoPFilter][shortenEnum.PrimaryCustomRange][shortenEnum.StartRange],n.PoPFilter[lengthenEnum.PrimaryCustomRange][lengthenEnum.EndRange]=i[shortenEnum.PoPFilter][shortenEnum.PrimaryCustomRange][shortenEnum.EndRange]),this._hasValue(i[shortenEnum.PoPFilter],shortenEnum.SecondaryCustomRange)&&i[shortenEnum.PoPFilter][shortenEnum.SecondaryCustomRange].length>0&&(n.PoPFilter[lengthenEnum.SecondaryCustomRange][0][lengthenEnum.StartRange]=i[shortenEnum.PoPFilter][shortenEnum.SecondaryCustomRange][0][shortenEnum.StartRange],n.PoPFilter[lengthenEnum.SecondaryCustomRange][0][lengthenEnum.EndRange]=i[shortenEnum.PoPFilter][shortenEnum.SecondaryCustomRange][0][shortenEnum.EndRange])),this._hasValue(n,lengthenEnum.UniqueColumnName)&&this._hasValue(n,lengthenEnum.ReportName)&&t.push(n)}return t}_hasValue(e,t){return!this._isNullOrUndefined(e)&&!this._isNullOrUndefined(e[`${t}`])}_unEscapeSelectedFilterDataforURLFilter(e){for(let t=0;t<e.length;t++){const i=e[`${t}`];if(!this._isNullOrUndefined(i.InitialDimensionFilter.Text)&&0!=i.InitialDimensionFilter.Text.length)for(let e=0;e<i.InitialDimensionFilter.Text.length;e++)i.InitialDimensionFilter.Text[`${e}`]=i.InitialDimensionFilter.Text[`${e}`].replaceAll(String.fromCharCode(252)+String.fromCharCode(252),",").replaceAll(String.fromCharCode(251)+String.fromCharCode(251),"&").replaceAll(String.fromCharCode(250)+String.fromCharCode(250),"=").replaceAll(String.fromCharCode(253)+String.fromCharCode(253),"?").replaceAll(String.fromCharCode(254)+String.fromCharCode(254),"/")}return e}_getWidgetFilterInfo(){const e=this._widgetsCollection,t=[];if(1==Array.isArray(e))for(let i=0;i<e.length;i++){let s=r._gettinstance(document.getElementById(this.embedOptions.embedContainerId),"embeddedBoldBIWidget_"+e[`${i}`]);s=Array.isArray(s)?s:[s];const n=[];let o;for(let e=0;e<s.length;e++)o=s[`${e}`].includes("=")?{columnName:s[`${e}`].split("=")[0].toString(),values:s[`${e}`].split("=")[1].split(",")}:{values:s},n[n.length]=o;const a={id:e[`${i}`],filters:n};t[t.length]=a}return t}_multipleWidgets(e,...t){const i=this._getDashboardInstance();if(!this._isNullOrUndefined(i)){var s=i.loadMultipleWidget.multipleWidgetInstanceCollection;for(let i=0;i<s.length;i++){const n=s[i].currentInstance;if("widgets"==e)s[i].widgetId==t[0][0].id&&(n.model[e]=[],n.option(e,...t));else if("exportWidgetAsCsv"!=e&&"exportWidgetAsImage"!=e&&"exportWidgetAsExcel"!=e&&"exportWidgetAsPdf"!=e)"function"==typeof n[e]?n[e](...t):(n.model[e]="",n.option(e,...t));else if(s[i].widgetId==t[0]&&"function"==typeof n[e]){const i=t.slice(1);n[e](...i)}}}}addStyles(){this._loadDepedentFiles()}destroyStyles(){const e=this;document.querySelectorAll("link").forEach((function(t){e.cssFiles.forEach((function(e){-1!=t.href.toLowerCase().indexOf(e.toLowerCase())&&t.parentNode.removeChild(t)}))}))}_validatetoken(e){const t=e||this.embedOptions.token;return this._isJwtFormat(t)?`bearer ${t}`:`basic ${t}`}_isJwtFormat(e){return/^[A-Za-z0-9-_=]+?\.[A-Za-z0-9-_=]+?\.[A-Za-z0-9-_.+/=]*$/.test(e)}removeWidgetInstance(e){const t=document.getElementById(this.embedOptions.embedContainerId);r._removewidgetinstance(t,"embeddedBoldBIWidget_"+e),this._widgetsCollection=this._widgetsCollection.filter((t=>t!==e))}static _putinstance(e,t,i){r._storage.has(e)||r._storage.set(e,new Map),r._storage.get(e).set(t,i)}static _gettinstance(e,t){if(r._storage.has(e))return r._storage.get(e).get(t)}static _hasinstance(e,t){return r._storage.has(e)&&r._storage.get(e).has(t)}static _removeinstance(e,t){if(r._storage.has(e)){const i=r._storage.get(e).delete(t);return 0!=r._storage.get(e).size&&r._storage.delete(e),i}}static _removewidgetinstance(e,t){if(r._storage.has(e))return r._storage.get(e).delete(t)}}t.tN=r,r.Mode=n.Mode,r.EmbedType=n.EmbedType,r.Environment=n.Environment,r.Theme=n.Theme,r._storage=new WeakMap,r._widgetsCollection=[];class l{constructor(){this.containerID="",this.widgetCollection=[]}setFilterParameters(e){const t=this.widgetCollection;1==Array.isArray(t)&&r._hasinstance(document.getElementById(this.containerID),"embeddedBoldBIWidget_"+t[t.length-1])&&r._putinstance(document.getElementById(this.containerID),"embeddedBoldBIWidget_"+t[t.length-1],e)}}},917:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultConstructor=void 0;const s=i(123);t.DefaultConstructor={IsDependencyLoaded:!1,rootUrl:"",baseUrl:"",siteIdentifier:"",dashboardServerApiUrl:"",designerRootUrl:"",customThemeUrl:"",scheduleEndpointUrl:"",childContainer:"",cdnLink:"",maskedCdnUrl:"https://cdn.boldbi.com/resources/v",beforeSaveViewDialogOpenFn:"beforeSaveViewDialogRendered",beforeSaveAsViewDialogOpenFn:"beforeSaveAsViewDialogRendered",onViewSavedFiltersClickFn:"openViewSection",onBannerIconClickFn:"onBannerIconClick",beforeWidgetIconRenderedFn:"beforeWidgetIconRendered",onWidgetIconClickFn:"onWidgetIconClick",actionBeginFn:"onActionBeginOfNewDashboardViewer",actionCompleteFn:"onActionCompleteOfNewDashboardViewer",beforeBannerIconRenderFn:"beforeBannerIconRender",beforeOtherRenderFn:"beforeOtherOptionContextMenuRender",isWidgetMode:!1,isDashboardRendering:!1,isPinboardRendering:!1,isDashboardViewRendering:!1,widgetName:"",isDashboardViewMode:!1,dashboardViewName:"",errorImage:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NTc3MiwgMjAxNC8wMS8xMy0xOTo0NDowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjExNzgwNzk4MzhBOTExRTQ4MDMxRTZEMkIzQUQzNjdCIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjExNzgwNzk5MzhBOTExRTQ4MDMxRTZEMkIzQUQzNjdCIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MTE3ODA3OTYzOEE5MTFFNDgwMzFFNkQyQjNBRDM2N0IiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MTE3ODA3OTczOEE5MTFFNDgwMzFFNkQyQjNBRDM2N0IiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4RB5yjAAABXklEQVR42rRUsU7DQAzNRWxESMydK2XsAhtiQGHo1LmsZYCBMSNDx3wASJQ1zN0rJjZYOlbqDCsSPxCeq5f0anwtSMHSk52L/c4++85VVRW1KXu14ZwLOn2enK1+Hr48B3evE3ONoQhBcgw1AjKgw+V3YAY8gvz1V4QgOoC6B4b0nQML2inQo/0EXIH4K0hIMslAspsCOQKWKvMuVAEMAMkyE9KmF2LUH3AugQoYK5IbgVob07f0eWJ1ZlLmFDveqjM/JRqhj1QxZOxKYs9nRJ0bTdwHEmM9V7EbhNLNuT4zSkLSSGW5ZNMyi7DjddMiTAL/Ft5YrQd7h3z8+aZwaFPLCaX1t3CkjP1Rssxfj3Omb825wFjvctBnFuGEujCyeCC0FCp2TYiy3qBkSAd6sCF9YmOweVtKxv7P1Qs9DnfAxY7HQaq53vo4qEyOoC4Dz9fEL9MkbEviqGX5FmAA1Vq0VgBUvekAAAAASUVORK5CYII=",pinBoardRendered:!0,pinboardIds:[],fromColumn:null,toColumn:null,fromPosition:null,toPosition:null,column:null,position:null,isMultiTab:!1,parentDbrdId:"",isNewConnection:!1,multiTabTheme:"",dashboardDetails:{},pinboardDetails:[],accessToken:"",homepageItemId:"",isVirtualHomepage:!1,dashboardUrl:"",commentsArgs:{},_widgetsCollection:[],jQueryDepedentFile:"jquery-1.10.2.min.js",jqConflictFile:"window.bb$ = jQuery.noConflict();",isFullscreen:!1,embedAuthorizeEndPoint:"/embed/authorize",embedGetDetailsEndPoint:"/embed/get-details",isMultipleWidgetMode:!1,invalidDetail:!1,isDefaultView:!1,embedSDKWrapperVersion:"11.3",tokenResponse:{dashboardVersion:"",draftItemID:"",DatasourceId:"",ConnectionList:"",ItemDetail:{IsPublic:!1,Description:"",Name:""}},wrapperDependentScriptFiles:["jquery.easing.1.3.min.js","jquery-ui.min.js","jsrender.min.js"],viewerScriptFiles:["ej1.web.all.min.js","ej2.web.all.min.js","designerlocalization.js"],pinBoardScriptFiles:["bootstrap.min.js"],pinboardCssFiles:["pinboard-embed.min.css"],ejViewerDependentFiles:["ej.dashboarddesigner.min.js"],ejDesignerDependentFiles:["codemirror.min.js"],designerScriptFiles:["ej1.web.all.min.js","ej2.web.all.min.js","designerlocalization.js","signalr.min.js"],cssFiles:["font-server.min.css","ej1.web.all.min.css","ej2.partone.web.all.min.css","ej2.parttwo.web.all.min.css","ej.designerwidgets.all.min.css","ej.dashboarddesigner.min.css"],designerCssFiles:["ej.codemirror.min.css"],applicationThemeCssFiles:["boldbi.theme.definition.min.css","application.theme.css"],dashboardThemeCssFiles:["dashboard.theme.css"],fontFamilyCssFiles:["font-family.min.css"],embedOptions:{isdesignerdraft:!1,serverUrl:"",dashboardId:"",dashboardIds:[],dashboardPath:"",dashboardPaths:[],datasourceId:"",datasourceName:"",embedContainerId:"",embedType:s.EmbedType.Component,environment:s.Environment.Enterprise,cloudCdnTimeStamp:"",customDashboardVersion:"0",isPublicDashboard:!1,mode:s.Mode.View,restrictMobileView:!1,localData:{loadFromData:!1,layoutData:null,widgetData:null},viewId:"",viewName:"",nonce:"",anonymousToken:{isEnabled:!1,groupName:"",userEmail:""},layoutSettings:{hideDesignerScroller:!1},dashboardSettings:{showHeader:!0,showExport:!0,showRefresh:!0,showMoreOption:!0,showMetrics:!0,onFavoriteIconClick:"",beforeIconRender:"",onIconClick:"",onInteraction:"",enableTheme:!1,enableFilterOverview:!0,enableFullScreen:!1,showDashboardParameter:!0,dashboardName:"",beforePublishAs:"",beforeDesignerToolbarButtons:"",enableComment:!1,beforeDesignerToolbarIconsRendered:"",beforeDatasourceToolbarButtonsRendered:"",beforeDatasourceToolbarIconsRendered:"",toolbarClick:"",fontFamily:"",widgetsPanel:{hideDefaultWidgets:!1,hideExistingWidgets:!1,defaultPanelDisplayText:"",existingPanelDisplayText:"",defaultPanelSearchPlaceholder:"",existingPanelSearchPlaceholder:"",existingDashboards:[],dragAndDropSettings:{rowSpan:null,columnSpan:null,isWidgetMode:!1}},dataSourceConfig:{hideDataSourceConfig:!1,hideSampleDataSources:!1,hideExpression:!1,hideDataSourceList:!1},viewDataSettings:{showAllColumns:!1,enableExporting:!0,enableColumnSelection:!0},showPreviewAs:!0,themeSettings:{appearance:"",application:"",dashboard:"",isLocalTheme:!1},filterOverviewSettings:{showSaveAsIcon:!1,showSaveIcon:!1,showViewSavedFilterIcon:!1,viewId:"",viewName:""},saveFilterClick:"",saveAsFilterClick:"",viewSavedFiltersClick:"",beforeSaveViewDialogOpen:"",beforeSaveAsViewDialogOpen:"",onViewSavedFiltersClick:""},widgetSettings:{showExport:!0,showMaximize:!0,showMoreOption:!0,showFilter:!0,beforeIconRender:"",onIconClick:"",beforeWidgetControlMenuOpen:"",onWidgetControlMenuClick:"",enableComment:!1,beforeWidgetItemsListed:"",beforeWidgetLayoutRender:""},languageSettings:{hideLanguageDropdown:!1,languageCode:""},customBrandSettings:{hideHelpLink:!1,customBrandName:"",customDomain:""},filterParameters:"",dynamicConnection:{isEnabled:!1,identity:""},exportSettings:{showExcel:!0,showPDF:!0,showImage:!0,showCSV:!0},height:"",width:"",theme:"",authorizationServer:{url:"",data:"",headers:{},authorizionComplete:""},token:"",expirationTime:86400,autoRefreshSettings:{enabled:!1,hourlySchedule:{hours:0,minutes:0,seconds:0}},embedAiAssistant:{enableAiAssistant:!1,aiAssistantPosition:"bottom",enableAiSummary:!1,enableWidgetSummary:!1,enableDashboardSummary:!1,hideAiDataUsage:!1},isRemoveStyle:!1,scalingFactor:1,localeSettings:{culture:"en-US",dateFormat:"M/d/yyyy",timeFormat:"h:mm:ss tt",appLocale:"en-US"},actionBegin:"",actionComplete:"",beforeContextMenuRender:"",beforeNavigateUrlLinking:"",beforeNavigateToDashboard:"",beforeFilterApply:"",afterFilterApply:"",toolbarSettings:{showToolbar:!0},pinboardName:"",pinboardSettings:{enablePinboardHeader:!0,enableUnpinWidget:!0},onUnpin:"",onDrag:"",onDrop:"",onLayoutChange:"",onResize:"",datasources:[],designCanvasSettings:{margin:null},widgetContainerSettings:{margin:null,boxShadow:null},beforeDatasourceSave:"",afterDatasourceSave:"",preConfiguredWidgets:{dashboardId:"",categoryName:""},disableAutoRecover:!1,ajaxBeforeLoad:"",isBingMapRequired:!1,widgetList:"",enableDomainMasking:!1}}}},t={},i=function i(s){var n=t[s];if(void 0!==n)return n.exports;var o=t[s]={exports:{}};return e[s](o,o.exports,i),o.exports}(806);window.BoldBI=i.tN})();